(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){e.exports={wrapper:"message_wrapper__1Hm6x"}},107:function(e,t,n){},109:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(33),c=n.n(r),o=(n(107),n(9)),s=n(2),i=n.n(s),A=n(3),l=n(25),u=n(6),g=(n(109),n(4)),d=n(8),C=n(87),I=n.n(C),p=n(65),h=n.n(p),j=n(36),f=(n(132),function(e){j.b.success(e)}),b=function(e){j.b.error(e)},m=function(e,t){j.b.promise(e,t)},v=function(){var e=Object(A.a)(i.a.mark((function e(t){var n,a,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2&&void 0!==r[2]?r[2]:{},e.abrupt("return",new Promise(function(){var e=Object(A.a)(i.a.mark((function e(r,c){var o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.getItem("token");case 3:return o=e.sent,a=Object(d.a)(Object(d.a)({},a),{},{headers:{Authentication:o}}),e.next=7,h.a.post(t,I.a.stringify(n),a);case 7:200===(s=e.sent).status&&r(s),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),b(e.t0.message),c(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(A.a)(i.a.mark((function e(t){var n,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",new Promise(function(){var e=Object(A.a)(i.a.mark((function e(a,r){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.getItem("token");case 3:return c=e.sent,n=Object(d.a)(Object(d.a)({},n),{},{headers:{Authentication:c}}),e.next=7,h.a.get(t,n);case 7:200===(o=e.sent).status&&a(o),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),b(e.t0.message),r(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=n(20),_=n.n(O),w=n(18),N=n(53),y=n(7),k=Object(y.b)({name:"user",initialState:{id:"",name:""},reducers:{setUser:function(e,t){Object.keys(e).forEach((function(n){return e[n]=t.payload[n]}))},logout:function(e,t){return console.log(t.type),e}}}),P=function(e){var t=e._id,n=e.full_name;return function(e){e(R({id:t,name:n}))}},S=k.actions,R=S.setUser,L=S.logout,F=function(e){return e.user},E=k.reducer,B="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjQ5ZDRhN2FlLTI1NjYtNDY5Yi05NmI5LWUxYzAxM2JiNmEwYzwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjUxYWY0OTY0LWE4MjQtNDk1Yy04MzgzLTQ3OTYxMzNjMzY2YjwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/8AACwgBaAFoAQERAP/EABsAAQADAQEBAQAAAAAAAAAAAAAFBgcEAgMB/8QAPhABAAEDAgIECA0EAgMAAAAAAAECAwQFBhEhEjFBUQcTNmFzgbHRFSIkMkJSU2JxcpGhwRQjk+GC8RY0Vf/aAAgBAQAAPwDXQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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",z=n(10),D=n(11),M=n(13),U=n(12),T=n(54),H=n.n(T),G=n(32),V=n(88),Y=n.n(V),J=n(5),W=Object(y.b)({name:"posts",initialState:{postCount:0,hasNext:!1,posts:[]},reducers:{addPost:function(e,t){return e.posts.unshift(t.payload.post),e.postCount=e.posts.length,e},addPosts:function(e,t){var n,a;return(n=e.posts).push.apply(n,Object(J.a)(t.payload.posts)),e.postCount=e.posts.length,e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext,e},updatePost:function(e,t){var n=e.posts[t.payload.index];return e.posts[t.payload.index]=Object(d.a)(Object(d.a)({},n),t.payload.postData),e},addLike:function(e,t){var n=t.payload.index,a=t.payload.userId;return e.posts[n].likedBy.includes(a)||e.posts[n].likedBy.push(a),e},removeLike:function(e,t){var n=t.payload.userId,a=t.payload.index,r=e.posts[a].likedBy.indexOf(n);return r>-1&&e.posts[a].likedBy.splice(r),e}}}),X=W.actions,q=X.addPost,Z=X.addPosts,Q=(X.addLike,X.removeLike,X.updatePost),K=function(e){return e.postState},$=W.reducer,ee={commentCount:0,hasNext:!1,comments:[]},te=Object(y.b)({name:"comments",initialState:ee,reducers:{addComment:function(e,t){e.comments.unshift(t.payload.comment),e.commentCount=e.comments.length},addComments:function(e,t){var n,a,r;(n=e.comments).push.apply(n,Object(J.a)(t.payload.comments)),e.commentCount=e.comments.length,e.hasNext=null!==(a=null===(r=t.payload)||void 0===r?void 0:r.hasNext)&&void 0!==a?a:e.hasNext},resetCommentState:function(){return ee}}}),ne=te.actions,ae=ne.addComment,re=ne.addComments,ce=ne.resetCommentState,oe=function(e){return e.commentState},se=te.reducer,ie={searchResult:[],hasNext:!1},Ae=Object(y.b)({name:"searchUser",initialState:ie,reducers:{setSearchResult:function(e,t){var n;return(n=e.searchResult).push.apply(n,Object(J.a)(t.payload.searchResult)),e.hasNext=t.payload.hasNext,e},unsetSearchResult:function(e){return ie}}}),le=Ae.actions,ue=le.setSearchResult,ge=le.unsetSearchResult,de=function(e){return e.searchUserState},Ce=Ae.reducer,Ie={posts:[],hasNext:!1},pe=Object(y.b)({name:"allPosts",initialState:Ie,reducers:{addPosts:function(e,t){var n,a;(n=e.posts).push.apply(n,Object(J.a)(t.payload.posts)),e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext},addPostInAllPost:function(e,t){return e.posts.unshift(t.payload.post),e},updatePost:function(e,t){var n=e.posts[t.payload.index];return e.posts[t.payload.index]=Object(d.a)(Object(d.a)({},n),t.payload.postData),e},resetAllPosts:function(){return Ie}}}),he=pe.actions,je=he.addPosts,fe=he.addPostInAllPost,be=he.updatePost,me=he.resetAllPosts,ve=function(e){return e.allPostsState},xe=pe.reducer,Oe={notifications:[],hasNext:!1},_e=Object(y.b)({name:"notifications",initialState:Oe,reducers:{addNotifications:function(e,t){var n,a;(n=e.notifications).push.apply(n,Object(J.a)(t.payload.notifications)),e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext},resetNotifications:function(e,t){return Oe}}}),we=_e.actions,Ne=we.addNotifications,ye=(we.resetNotifications,function(e){return e.notificationsState}),ke=_e.reducer,Pe=Object(y.b)({name:"channel",initialState:{channelIdList:[],selected:-1,hasNext:!1},reducers:{addChannel:function(e,t){var n,a;(n=e.channelIdList).push.apply(n,Object(J.a)(t.payload.channelIdList)),e.channelIdList.length&&-1===e.selected&&(e.selected=0),e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext},selectChannelId:function(e,t){e.selected=t.payload.selected},addMessageInChannel:function(e,t){return e.channelIdList[e.selected].message=t.payload.message,e},addInChannel:function(e,t){var n=t.payload.channel._id,a=e.channelIdList.findIndex((function(e){return e._id===n}));-1===a&&(e.channelIdList.unshift(t.payload.channel),a=0),e.selected=a}}}),Se=Pe.actions,Re=Se.addChannel,Le=Se.selectChannelId,Fe=Se.addInChannel,Ee=Se.addMessageInChannel,Be=function(e){return e.channelState},ze=function(e){var t=parseInt(e.channelState.selected);return t>=0?e.channelState.channelIdList[t]:null},De=function(e){return e.channelState.selected},Me=Pe.reducer,Ue={messages:[],hasNext:!1},Te=Object(y.b)({name:"chatBox",initialState:Ue,reducers:{addMessage:function(e,t){var n,a;return(n=e.messages).push.apply(n,Object(J.a)(t.payload.messages)),e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext,e},addNewMessages:function(e,t){var n;return e.messages.find((function(e){var n;return e._id===(null===(n=t.payload.messages[0])||void 0===n?void 0:n._id)}))&&(null===(n=t.payload.messages[0])||void 0===n?void 0:n._id)||(e.messages=[].concat(Object(J.a)(t.payload.messages),Object(J.a)(e.messages))),e},resetChatBox:function(){return Ue}}}),He=Te.actions,Ge=He.addMessage,Ve=He.resetChatBox,Ye=He.addNewMessages,Je=function(e){return e.chatBoxState},We=Te.reducer,Xe=n(101),qe={socket:null},Ze=Object(y.b)({name:"socket",initialState:qe,reducers:{createSocket:function(e,t){var n=Object(Xe.a)("http://localhost:8000",{auth:{token:t.payload.token}});return e.socket=n,e},resetSocket:function(e){return e.socket&&e.socket.close(),qe}}}),Qe=Ze.actions,Ke=Qe.createSocket,$e=Qe.resetSocket,et=function(e){return e.socketState.socket},tt=Ze.reducer,nt={id:"",imgUrl:"",name:"",postCount:0,follower:0,following:0,isMyProfile:!1,isFollowed:!1},at=Object(y.b)({name:"profile",initialState:nt,reducers:{addProfile:function(e,t){return t.payload},toggleFollow:function(e,t){return e.isFollowed=t.payload.isFollower,e.follower=e.follower+(t.payload.isFollower?1:-1),e},addProfileId:function(e,t){return e.id=t.payload.id,e},increasePostCount:function(e){e.postCount=e.postCount+1},updateProfileNameInStore:function(e,t){return e.name=t.payload.name,e},addProfileImage:function(e,t){return e.imgUrl=t.payload.imgUrl,e},resetProfile:function(){return nt}}}),rt=at.actions,ct=rt.addProfile,ot=rt.toggleFollow,st=rt.updateProfileNameInStore,it=rt.resetProfile,At=rt.addProfileId,lt=rt.addProfileImage,ut=rt.increasePostCount,gt=function(e){return e.profileState},dt=at.reducer,Ct=Object(y.b)({name:"navSlice",initialState:{active:-1},reducers:{setActive:function(e,t){return e.active=t.payload.index,e}}}),It=Ct.actions.setActive,pt=function(e){return e.navState.active},ht=Ct.reducer,jt=Object(G.b)({user:E,postState:$,commentState:se,searchUserState:Ce,allPostsState:xe,notificationsState:ke,channelState:Me,chatBoxState:We,socketState:tt,profileState:dt,navState:ht}),ft=Object(y.a)({reducer:function(e,t){return"user/logout"===t.type&&(e=void 0),jt(e,t)},middleware:function(e){return e({serializableCheck:!1}).concat(Y.a)}}),bt=n(0),mt=function(e){e&&e(),c.a.render(Object(bt.jsx)(bt.Fragment,{}),document.querySelector("#modal"))},vt=function(e){Object(M.a)(n,e);var t=Object(U.a)(n);function n(){return Object(z.a)(this,n),t.apply(this,arguments)}return Object(D.a)(n,[{key:"render",value:function(){var e=this;return Object(bt.jsxs)("div",{className:H.a.container,children:[Object(bt.jsx)("div",{className:H.a.icon,children:Object(bt.jsx)(w.FaTimes,{onClick:function(){mt(e.props.removeModalFunction)},style:{color:"white"},size:30})}),Object(bt.jsx)("div",{className:H.a.modal_container,children:this.props.component})]})}}]),n}(a.Component),xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c.a.render(Object(bt.jsx)(g.a,{store:ft,children:Object(bt.jsx)(vt,{component:e,removeModalFunction:t})}),document.querySelector("#modal"))},Ot=n(40),_t=n.n(Ot),wt=n(55),Nt=n.n(wt),yt=n(22),kt=function(e){var t=e.postId,n=e.shouldDispatch,a=void 0!==n&&n,r=Object(g.c)(F),c=Object(yt.a)(),o=c.register,s=c.handleSubmit,l=c.reset,u=Object(g.b)(),C=function(){var e=Object(A.a)(i.a.mark((function e(n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.comment,e.next=3,m(new Promise(function(){var e=Object(A.a)(i.a.mark((function e(n,o){var s,A;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={postId:t,userId:r.id,comment:c},e.next=4,v("".concat("http://localhost:8000","/addComment"),s);case 4:A=e.sent,a&&u(ae({comment:A.data})),n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()),{pending:"Posting Comment",success:"Comment Posted Successfully",error:"Error Occured"});case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(bt.jsx)("div",{children:Object(bt.jsxs)("form",{className:Nt.a.comment_input_wrapper,onSubmit:s(C),children:[Object(bt.jsx)("input",Object(d.a)(Object(d.a)({},o("comment",{required:!0})),{},{className:Nt.a.post_input,placeholder:"Add a Comment"})),Object(bt.jsx)("button",{"data-btn":!0,className:Nt.a.post_button,children:"Post"})]})})},Pt=n(15),St=function(e,t,n){return new Promise(function(){var a=Object(A.a)(i.a.mark((function a(r,c){var o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,15,a.next=4,x("".concat("http://localhost:8000","/latestComments"),{params:{page:e.length/15,size:15,postId:n}});case 4:200===(o=a.sent).status&&(t(re({comments:Object(J.a)(o.data.comments),hasNext:o.data.hasNext})),r()),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),c(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}())},Rt=function(e){var t=e.postId,n=Object(g.b)(),r=Object(g.c)(oe);return Object(a.useEffect)((function(){return 0===r.comments.length&&St(r.comments,n,t),function(){n(ce())}}),[]),Object(bt.jsxs)("div",{className:_t.a.container,children:[Object(bt.jsx)(kt,{shouldDispatch:!0,postId:t}),Object(bt.jsx)("div",{id:"commentScrollableDiv",className:_t.a.scrollableDiv,children:Object(bt.jsx)(Pt.a,{dataLength:r.comments.length,next:function(){return St(r.comments,n,t)},hasMore:r.hasNext,loader:r.comments.length>0?Object(bt.jsx)("h4",{children:"Loading..."}):Object(bt.jsx)(bt.Fragment,{}),scrollableTarget:"commentScrollableDiv",endMessage:0===r.comments.length?Object(bt.jsx)("p",{align:"center",children:"Be the first to write comment"}):Object(bt.jsx)(bt.Fragment,{}),children:r.comments.map((function(e,t){return function(e,t){var n,a,r;return Object(bt.jsxs)("div",{className:_t.a.commentContainer,children:[Object(bt.jsx)("div",{className:_t.a.profileImage,children:Object(bt.jsx)("img",{alt:"profile",src:null!==(n=null===e||void 0===e?void 0:e.profileUrl)&&void 0!==n?n:B})}),Object(bt.jsx)("span",{className:_t.a.posterName,children:null!==(a=null===e||void 0===e?void 0:e.profileName)&&void 0!==a?a:""}),Object(bt.jsx)("span",{children:null!==(r=null===e||void 0===e?void 0:e.comment)&&void 0!==r?r:""})]},t)}(e,t)}))})})]})},Lt=n(92),Ft=n.n(Lt),Et=function(e){var t=e.options;return Object(a.useEffect)((function(){return document.querySelector("body").style.setProperty("--explorePostSizeFactor","130"),function(){document.querySelector("body").style.setProperty("--explorePostSizeFactor","150")}}),[]),Object(bt.jsxs)("div",{className:Ft.a.wrapper,children:[zt(t),Object(bt.jsx)(Rt,{postId:t.postData._id})]})},Bt=function(e){var t,n,a=e.postData,r=e.index,c=Object(g.c)(F),o=Object(g.b)(),s=null!==(t=a.profileImage)&&void 0!==t?t:B;return Object(bt.jsxs)("div",{className:_.a.container,children:[Object(bt.jsxs)("div",{className:_.a.head,children:[Object(bt.jsx)("div",{className:_.a.profile,children:Object(bt.jsx)("img",{alt:"Profile img",src:s})}),Object(bt.jsx)("span",{className:_.a.profile_name,children:null!==(n=a.profileName)&&void 0!==n?n:"No Name"})]}),zt({user:c,postData:a,index:r,origin:"normal",openComments:!0,likeStatusSelector:function(e,t){return function(n){return function(e,t,n){return e.postState.posts[t].likedBy.includes(n)}(n,e,t)}},likeCountSelector:function(e){return function(t){return function(e,t){return e.postState.posts[t].likedBy.length}(t,e)}},dispatchActionForLike:function(e,t){return o(Q({index:e,postData:t.data}))}})]})};function zt(e){var t,n,a=e.user,r=e.postData,c=e.index,o=e.openComments,s=e.likeStatusSelector,l=e.likeCountSelector,u=e.dispatchActionForLike,d=Object(g.c)(s(c,a.id)),C=Object(g.c)(l(c)),I=function(){o&&xt(Object(bt.jsx)(Et,{options:{user:a,postData:r,index:c,openComments:!1,likeStatusSelector:s,likeCountSelector:l,dispatchActionForLike:u}}))},p=function(){var e=Object(A.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("".concat("http://localhost:8000","/toggleLike"),{postId:r._id});case 3:t=e.sent,u(c,t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(bt.jsxs)("div",{children:[Object(bt.jsx)("div",{className:_.a.post,children:Object(bt.jsx)("img",{alt:"Post",src:null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.display_url})}),Object(bt.jsxs)("div",{className:_.a.post_footer,children:[Object(bt.jsxs)("div",{className:_.a.footer,children:[Object(bt.jsx)("div",{"data-btn":!0,onClick:p,className:_.a.like,children:d?Object(bt.jsx)(w.FaHeart,{style:{color:"red"},size:25}):Object(bt.jsx)(w.FaRegHeart,{size:25})}),Object(bt.jsx)("div",{"data-btn":!0,onClick:I,className:_.a.comment,children:Object(bt.jsx)(w.FaRegComment,{size:25})})]}),Object(bt.jsx)("div",{children:Object(bt.jsxs)("span",{children:[C," likes"]})}),Object(bt.jsxs)("div",{className:_.a.caption,children:[Object(bt.jsxs)("span",{className:_.a.name,children:[" ",null!==(n=r.profileName)&&void 0!==n?n:"No Name"]})," ",(null===r||void 0===r?void 0:r.description)&&""!==(null===r||void 0===r?void 0:r.description)?null===r||void 0===r?void 0:r.description:"No Description"]}),o&&Object(bt.jsx)("div",{children:Object(bt.jsx)("span",{onClick:I,style:{cursor:"pointer"},children:"View comments"})}),Object(bt.jsx)("div",{className:_.a.post_time,children:Object(bt.jsx)(N.a,{datetime:r.createdAt})})]})]})}n(93),n(94);var Dt,Mt=n(66),Ut=n.n(Mt),Tt=function(e,t){return new Promise(function(){var n=Object(A.a)(i.a.mark((function n(a,r){var c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,2,n.next=4,x("".concat("http://localhost:8000","/latestPost"),{params:{page:e.length/2,size:2}});case 4:200===(c=n.sent).status&&(c.data.posts.length&&t(Z({posts:c.data.posts,hasNext:c.data.hasNext})),a()),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),r(!1);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}())},Ht=function(e){var t=Object(g.b)(),n=Object(g.c)(K);return Object(a.useEffect)((function(){0===n.posts.length&&Tt(n.posts,t)})),Object(bt.jsx)("div",{id:"postScrollableDiv",className:Ut.a.wrapper,children:Object(bt.jsx)("div",{className:Ut.a.header,children:Object(bt.jsx)(Pt.a,{dataLength:n.posts.length,next:function(){return Tt(n.posts,t)},hasMore:n.hasNext,loader:Object(bt.jsx)("h4",{children:"Loading..."}),scrollableTarget:"postScrollableDiv",endMessage:Object(bt.jsx)("h3",{style:{color:"white"},align:"center",children:"No new posts available"}),children:n.posts.map((function(e,t){return Object(bt.jsx)(Bt,{index:t,postData:e},t)}))})})})},Gt=n(41),Vt=n.n(Gt),Yt=n(18),Jt=Yt.FaUser,Wt=Yt.FaEnvelope,Xt=Yt.FaLock,qt=[{name:"full_name",placeholder:"Full Name",validation:{required:!0},icon:Object(bt.jsx)(Jt,{})},{name:"email",type:"email",placeholder:"Email Address",validation:{required:!0,pattern:"/^[^s@]+@[^s@]+.[^s@]+$/"},icon:Object(bt.jsx)(Wt,{})},{name:"password",type:"password",placeholder:"Password",validation:{required:!0,pattern:"/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/"},icon:Object(bt.jsx)(Xt,{})}],Zt=[{name:"email",type:"email",placeholder:"Email Address",validation:{required:!0,pattern:"/^[^s@]+@[^s@]+.[^s@]+$/"},icon:Object(bt.jsx)(Wt,{})},{name:"password",type:"password",placeholder:"Password",validation:{required:!0,pattern:"/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/"},icon:Object(bt.jsx)(Xt,{})}],Qt=function(e){Object.entries(e).forEach((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];localStorage.setItem(n,a)})),Dt=setTimeout((function(){Kt(["token"])}),72e5),window.dispatchEvent(new Event("storage"))},Kt=function(e){e.forEach((function(e){localStorage.removeItem(e)})),Dt&&clearTimeout(Dt),window.dispatchEvent(new Event("storage"))},$t=n(56),en=n.n($t),tn=function(e){var t,n,a,r,c,o=e.field,s=e.register,i=void 0===s?function(){}:s;return Object(bt.jsxs)("div",{className:en.a.inputBox,children:[null!==(t=null===o||void 0===o?void 0:o.icon)&&void 0!==t?t:null,Object(bt.jsx)("input",Object(d.a)({type:null!==(n=null===o||void 0===o?void 0:o.type)&&void 0!==n?n:null,className:"".concat(en.a.input," ").concat((null===o||void 0===o?void 0:o.icon)?"":en.a.fixInputPlaceholder),placeholder:null!==(a=null===o||void 0===o?void 0:o.placeholder)&&void 0!==a?a:null},i(null!==(r=null===o||void 0===o?void 0:o.name)&&void 0!==r?r:null,null!==(c=null===o||void 0===o?void 0:o.validation)&&void 0!==c?c:null)))]})},nn=function(){var e=Object(yt.a)(),t=e.register,n=e.handleSubmit,a=(Object(g.b)(),Object(u.g)()),r=function(){var e=Object(A.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("".concat("http://localhost:8000","/auth/login"),t);case 2:200===(n=e.sent).status&&(f("Login Successfully"),Qt({token:null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.token}),a.push("home"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(bt.jsx)("div",{className:Vt.a.container,children:Object(bt.jsxs)("form",{className:Vt.a.form,onSubmit:n(r),children:[Object(bt.jsx)("h1",{className:Vt.a.heading,children:"Login"}),Zt.map((function(e,n){return Object(bt.jsx)(tn,{field:e,register:t},n)})),Object(bt.jsx)("button",{className:Vt.a.submitButton,children:"Login"}),Object(bt.jsxs)("p",{children:["Not a member ? ",Object(bt.jsx)(l.b,{to:"/register",children:"Go to Register"})," "]}),Object(bt.jsx)("span",{onClick:function(){a.push("forgotPassword")},className:Vt.a.forgot_password,children:"Forgot Password?"})]})})},an=n(42),rn=n.n(an),cn=n(46),on=n.n(cn),sn=n(57),An=n.n(sn),ln=n(58),un=n.n(ln),gn=Math.PI/180;function dn(e,t,n){return Cn.apply(this,arguments)}function Cn(){return Cn=Object(A.a)(i.a.mark((function e(t,n,a){var r,c,o,s,A,l,u,g,d,C,I,p=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>3&&void 0!==p[3]?p[3]:1,c=p.length>4&&void 0!==p[4]?p[4]:0,o=n.getContext("2d")){e.next=5;break}throw new Error("No 2d context");case 5:s=t.naturalWidth/t.width,A=t.naturalHeight/t.height,l=window.devicePixelRatio,n.width=Math.floor(a.width*s*l),n.height=Math.floor(a.height*A*l),o.scale(l,l),o.imageSmoothingQuality="high",u=a.x*s,g=a.y*A,d=c*gn,C=t.naturalWidth/2,I=t.naturalHeight/2,o.save(),o.translate(-u,-g),o.translate(C,I),o.rotate(d),o.scale(r,r),o.translate(-C,-I),o.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,t.naturalWidth,t.naturalHeight),o.restore();case 25:case"end":return e.stop()}}),e)}))),Cn.apply(this,arguments)}n(156);var In=function(e){var t,n=e.imgSrc,r=e.options;r=null!==(t=r)&&void 0!==t?t:{api:"".concat("http://localhost:8000","/addContent"),want_caption:!0,aspect:3.5/4.5,dispatchFunc:[function(e){return q({post:e.data})},function(e){return fe({post:e.data})},function(e){return ut()}]};var c,s,l,u=Object(a.useState)(),d=Object(o.a)(u,2),C=d[0],I=d[1],p=Object(a.useRef)(null),h=Object(a.useState)(null),j=Object(o.a)(h,2),f=j[0],b=j[1],x=Object(a.useState)(""),O=Object(o.a)(x,2),_=O[0],w=O[1],N=Object(g.b)(),y=Object(a.useRef)(null),k=r.aspect;c=Object(A.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===f||void 0===f?void 0:f.width)&&(null===f||void 0===f?void 0:f.height)&&y.current&&p.current&&dn(y.current,p.current,f);case 1:case"end":return e.stop()}}),e)}))),s=100,l=[f],Object(a.useEffect)((function(){var e=setTimeout((function(){c.apply(void 0,l)}),s);return function(){clearTimeout(e)}}),l);var P=function(){var e=Object(A.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={base64:t,description:_},e.next=3,v(r.api,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(A.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise(function(){var e=Object(A.a)(i.a.mark((function e(t,n){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f||n("No Content"),e.prev=1,a=p.current.toDataURL("image/jpeg").split(";base64,")[1],e.next=5,P(a);case 5:c=e.sent,r.dispatchFunc.forEach((function(e){N(e(c))})),t(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),n();case 14:return e.prev=14,mt(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,m(t,{pending:"Uploading",success:"Post Uploaded Successfully",error:"Error Occured"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(bt.jsx)("div",{className:An.a.wrapper,children:Object(bt.jsxs)("div",{children:[n&&Object(bt.jsx)(un.a,{crop:C,onChange:function(e,t){return I(t)},onComplete:function(e){return b(e)},aspect:k,children:Object(bt.jsx)("img",{ref:y,alt:"Crop me",src:n,onLoad:function(e){if(k){var t=e.currentTarget,n=t.width,a=t.height;I(function(e,t,n){return Object(ln.centerCrop)(Object(ln.makeAspectCrop)({unit:"%",width:30},n,e,t),e,t)}(n,a,k))}}})}),Object(bt.jsx)("div",{className:An.a.footer,children:f&&Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("p",{children:"Preview"}),Object(bt.jsx)("canvas",{id:"croppedImage",ref:p,style:{border:"1px solid black",objectFit:"contain",width:f.width,height:f.height}}),Object(bt.jsxs)("div",{className:An.a.addPost,children:[r.want_caption&&Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("p",{children:"Add Caption"}),Object(bt.jsx)("textarea",{onChange:function(e){return w(e.target.value)},id:"w3review",name:"w3review",rows:"4",cols:"50"})," "]}),Object(bt.jsx)("button",{"data-btn":!0,onClick:S,children:"Post"})]})]})})]})})},pn=function(){var e=function(){var e=Object(A.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files&&t.target.files.length>0&&((n=new FileReader).addEventListener("load",(function(){return xt(Object(bt.jsx)(In,{imgSrc:n.result.toString()||""}))})),t.target.files[0]&&n.readAsDataURL(t.target.files[0]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(bt.jsxs)("div",{className:on.a.wrapper,children:[Object(bt.jsx)("div",{className:on.a.heading,children:Object(bt.jsx)("span",{children:"Create New Post"})}),Object(bt.jsxs)("form",{onClick:function(){document.querySelector("#postInput").click()},className:on.a.container,children:[Object(bt.jsx)("input",{id:"postInput",hidden:!0,type:"file",onChange:e}),Object(bt.jsx)(w.FaImage,{size:70}),Object(bt.jsx)("span",{className:on.a.instruction,children:"Click above to browse images"})]})]})},hn=n(59),jn=n.n(hn),fn=function(e){var t,n=e.userData,a=e.history,r=Object(g.b)();return Object(bt.jsxs)("div",{"data-btn":!0,className:jn.a.profileContainer,onClick:function(){r(At({id:n._id})),mt(),a.push("profile")},children:[Object(bt.jsx)("div",{className:jn.a.profileImage,children:Object(bt.jsx)("img",{alt:"profile",src:null!==(t=n.profileImageUrl)&&void 0!==t?t:B})}),Object(bt.jsx)("div",{className:jn.a.profileInfo,children:Object(bt.jsx)("span",{children:n.full_name})})]})},bn=n(69),mn=n.n(bn),vn=function(e,t,n){return new Promise(function(){var a=Object(A.a)(i.a.mark((function a(r,c){var o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,15,a.next=4,x("".concat("http://localhost:8000","/searchUser"),{params:{searchText:e,page:t.length/15,size:15}});case 4:200===(o=a.sent).status&&o.data.searchResult.length&&(n(ue({searchText:e,searchResult:o.data.searchResult,hasNext:o.data.hasNext})),r()),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),c(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}())},xn=function(e){var t,n=e.history,r=Object(g.b)(),c=Object(a.useState)(""),s=Object(o.a)(c,2),i=s[0],A=s[1],l=Object(g.c)(de);return Object(bt.jsxs)("div",{className:mn.a.searchContainer,children:[Object(bt.jsx)("h2",{children:"Search Your Friends"}),Object(bt.jsx)("input",{onChange:function(e){t&&clearTimeout(t),t=setTimeout((function(){var t=e.target.value;r(ge()),A(t),t&&vn(t,[],r)}),1e3)},value:l.searchText,placeholder:"Search"}),Object(bt.jsx)("div",{id:"searchResultScrollableDiv",className:mn.a.searchResultContainer,children:Object(bt.jsx)(Pt.a,{dataLength:l.searchResult.length,next:function(){return vn(i,l.searchResult,r)},hasMore:l.hasNext,loader:l.searchResult.length>0?Object(bt.jsx)("h4",{children:"Loading..."}):Object(bt.jsx)(bt.Fragment,{}),endMessage:0===l.searchResult.length?Object(bt.jsx)("p",{align:"center",children:""===i?"Search Your Friend Here":"Couldn't found anything"}):Object(bt.jsx)(bt.Fragment,{}),scrollableTarget:"searchResultScrollableDiv",children:l.searchResult.map((function(e,t){return Object(bt.jsx)(fn,{history:n,userData:e},t)}))})})]})},On=[{name:"Home",onClick:function(e){var t=e.history,n=e.index;(0,e.dispatch)(It({index:n})),t.push("/home")}},{name:"Profile",onClick:function(e){var t=e.history,n=e.index;(0,e.dispatch)(It({index:n})),t.push("/profile")}},{name:"Search Friends",onClick:function(e){var t=e.history,n=e.index,a=e.dispatch,r=e.active;a(It({index:n})),xt(Object(bt.jsx)(xn,{history:t}),(function(){a(It({index:r}))}))}},{name:"Add Post",onClick:function(e){var t=e.index,n=e.dispatch,a=e.active;n(It({index:t})),xt(Object(bt.jsx)(pn,{}),(function(){n(It({index:a}))}))}},{name:"Message",onClick:function(e){var t=e.history,n=e.index;(0,e.dispatch)(It({index:n})),t.push("/message")}},{name:"Logout",onClick:function(e){var t=e.dispatch;Kt(["token"]),t(L()),f("Successfully logged out")}}],_n=void 0,wn=function(){var e=Object(u.g)(),t=Object(g.c)(pt),n=Object(g.b)();return Object(a.useEffect)((function(){n(It({index:0}))}),[]),Object(bt.jsxs)("div",{className:rn.a.bar,children:[Object(bt.jsx)("span",{"data-btn":!0,onClick:On[0].onClick.bind(_n,{history:e,dispatch:n,index:0,active:t}),className:rn.a.logo,children:"KikiTalk"}),On.map((function(a,r){return Object(bt.jsx)("a",{"data-btn":!0,onClick:a.onClick?a.onClick.bind(_n,{history:e,dispatch:n,index:r,active:t}):null,className:"".concat(rn.a.links," ").concat(r===On.length-1?rn.a.last_link:""," ").concat(r===t?rn.a.active:""),children:a.name},r)}))]})},Nn=n(47),yn=n.n(Nn),kn=function(){var e=Object(yt.a)(),t=e.register,n=e.handleSubmit,a=Object(g.b)(),r=function(){var e=Object(A.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("".concat("http://localhost:8000","/auth/register"),t);case 2:200===(n=e.sent).status&&(f("Registered Successfully"),a(P(null===n||void 0===n?void 0:n.data)),Qt({token:null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.token}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(bt.jsx)("div",{className:yn.a.container,children:Object(bt.jsxs)("form",{className:yn.a.form,onSubmit:n(r),children:[Object(bt.jsx)("h1",{className:yn.a.heading,children:"Register"}),qt.map((function(e,n){return Object(bt.jsx)(tn,{field:e,register:t},n)})),Object(bt.jsx)("button",{className:yn.a.submitButton,children:"Register"}),Object(bt.jsxs)("p",{children:["Already a member ? ",Object(bt.jsx)(l.b,{to:"/login",children:"Go to Login"})," "]})]})})},Pn=n(70),Sn=n.n(Pn),Rn=n(71),Ln=n.n(Rn),Fn=function(e){var t=e.email,n=e.isVerifiedSetter,a=e.openOtpComponentSetter,r=e.tokenSetter,c=Object(yt.a)(),o=c.register,s=c.handleSubmit;return Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("h2",{style:{textAlign:"center"},children:"Enter Verification Code"}),Object(bt.jsxs)("form",{onSubmit:s((function(e){var a=e.otp,c=new Promise(function(){var e=Object(A.a)(i.a.mark((function e(c,o){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("".concat("http://localhost:8000","/verifyOtp"),{email:t,otp:a});case 3:200===(s=e.sent).status&&(n(!0),r(s.data.token),c()),o(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}());m(c,{pending:"Verifying OTP",success:"OTP Verified Successfully",error:"Error Occured"})})),children:[Object(bt.jsx)(tn,{field:{name:"otp",placeholder:"OTP",validation:{required:!0}},register:o}),Object(bt.jsx)("button",{className:Ln.a.submitButton,children:"Verify"}),Object(bt.jsx)("button",{onClick:function(){a(!1)},className:Ln.a.backButton,children:"Back"})]})]})},En=n(97),Bn=n.n(En),zn=function(e){var t=e.token,n=e.email,a=Object(yt.a)(),r=a.register,c=a.handleSubmit,o=Object(u.g)();return Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("h2",{style:{textAlign:"center"},children:"Create New Password"}),Object(bt.jsxs)("form",{onSubmit:c((function(e){var a=e.password,r=new Promise(function(){var e=Object(A.a)(i.a.mark((function e(r,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("".concat("http://localhost:8000","/saveNewPassword"),{token:t,password:a,email:n});case 3:o.push("/login"),r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}());m(r,{pending:"Saving New Password",success:"Password Saved Successfully",error:"Error Occured"})})),children:[Object(bt.jsx)(tn,{field:{name:"password",placeholder:"New Password",type:"password",validation:{required:!0,pattern:"/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/"}},register:r}),Object(bt.jsx)("button",{className:Bn.a.submitButton,children:"Submit"})]})]})},Dn=n(72),Mn=n.n(Dn),Un=function(e){var t=e.openOtpComponentSetter,n=e.emailSetter,a=Object(yt.a)(),r=a.register,c=a.handleSubmit,o=Object(u.g)(),s=function(){var e=Object(A.a)(i.a.mark((function e(a){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.email,n(r),t(!0),c=new Promise(function(){var e=Object(A.a)(i.a.mark((function e(n,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("".concat("http://localhost:8000","/forgotPassword"),{email:r});case 3:n(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t(!1),a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),m(c,{pending:"Sending Email",success:"Email Sent Successfully",error:"Error Occured"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("h2",{style:{textAlign:"center"},children:"Forgot Password?"}),Object(bt.jsxs)("form",{onSubmit:c(s),children:[Object(bt.jsx)(tn,{field:{name:"email",placeholder:"Enter Email",type:"email",validation:{required:!0,pattern:"/^[^s@]+@[^s@]+.[^s@]+$/"}},register:r}),Object(bt.jsx)("button",{className:Mn.a.submitButton,children:"Reset Password"}),Object(bt.jsx)("button",{onClick:function(){o.push("login")},className:Mn.a.backButton,children:"Back"})]})]})},Tn=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(o.a)(c,2),i=s[0],A=s[1],l=Object(a.useState)(),u=Object(o.a)(l,2),g=u[0],d=u[1],C=Object(a.useState)(!1),I=Object(o.a)(C,2),p=I[0],h=I[1];return Object(bt.jsx)("div",{className:Sn.a.wrapper,children:Object(bt.jsx)("div",{className:Sn.a.container,children:p?Object(bt.jsx)(zn,{email:i,token:g}):n?Object(bt.jsx)(Fn,{email:i,isVerifiedSetter:h,openOtpComponentSetter:r,tokenSetter:d}):Object(bt.jsx)(Un,{emailSetter:A,openOtpComponentSetter:r})})})},Hn=n(24),Gn=n.n(Hn),Vn=n(98),Yn=n.n(Vn),Jn=function(e){var t,n,a=e.postData,r=e.index,c=Object(g.c)(F),o=Object(g.b)();return Object(bt.jsx)("div",{className:Yn.a.wrapper,children:Object(bt.jsx)("img",{onClick:function(){xt(Object(bt.jsx)(Et,{options:{user:c,postData:a,index:r,openComments:!1,likeStatusSelector:function(e,t){return function(n){return function(e,t,n){return e.allPostsState.posts[t].likedBy.includes(n)}(n,e,t)}},likeCountSelector:function(e){return function(t){return function(e,t){return e.allPostsState.posts[t].likedBy.length}(t,e)}},dispatchActionForLike:function(e,t){return o(be({index:e,postData:t.data}))}}}))},alt:"card",src:null!==(t=null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.url)&&void 0!==t?t:B})})},Wn=n(99),Xn=n.n(Wn),qn=function(){var e=Object(A.a)(i.a.mark((function e(t,n,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(A.a)(i.a.mark((function e(r,c){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,15,e.next=4,x("".concat("http://localhost:8000","/allPostsWithId"),{params:{page:t.length/15,size:15,id:a}});case 4:200===(o=e.sent).status&&(o.data.posts.length&&n(je({posts:o.data.posts,hasNext:o.data.hasNext})),r()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),c(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Zn=function(){var e=Object(g.b)(),t=Object(g.c)(ve),n=Object(g.c)(gt);return Object(a.useEffect)((function(){return qn(t.posts,e,null===n||void 0===n?void 0:n.id),function(){e(me())}}),[null===n||void 0===n?void 0:n.id]),Object(bt.jsx)("div",{id:"allPostScrollableDiv",className:Xn.a.wrapper,children:Object(bt.jsx)(Pt.a,{dataLength:t.posts.length,next:function(){return qn(t.posts,e,null===n||void 0===n?void 0:n.id)},hasMore:t.hasNext,loader:Object(bt.jsx)("h4",{children:"Loading..."}),scrollableTarget:"allPostScrollableDiv",children:t.posts.map((function(e,t){return Object(bt.jsx)(Jn,{index:t,postData:e},t)}))})})},Qn=function(e,t){return new Promise(function(){var n=Object(A.a)(i.a.mark((function n(a,r){var c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x("".concat("http://localhost:8000","/profileDetail"),{params:{userId:e}});case 3:200===(c=n.sent).status&&(t(ct(c.data)),a()),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),r(!1);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}())},Kn=function(){var e,t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(g.c)(F),l=Object(g.c)(gt),d=Object(g.b)(),C=Object(u.g)(),I=Object(a.useRef)(null),p=Object(a.useRef)(null);Object(a.useEffect)((function(){l.id?Qn(null===l||void 0===l?void 0:l.id,d):(null===s||void 0===s?void 0:s.id)&&Qn(null===s||void 0===s?void 0:s.id,d)}),[d,null===l||void 0===l?void 0:l.id]),Object(a.useEffect)((function(){return function(){d(it())}}),[]);var h,j=function(){var e=Object(A.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("".concat("http://localhost:8000","/follower"),{userId:l.id,followerId:s.id});case 3:200===(t=e.sent).status&&d(ot({isFollower:t.data.isFollower})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(){I.current.innerText=l.name,c(!1)};h=p,Object(a.useEffect)((function(){function e(e){h.current&&!h.current.contains(e.target)&&f()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[h,l]);return Object(bt.jsxs)("div",{className:Gn.a.wrapper,children:[Object(bt.jsx)("div",{className:Gn.a.header,children:Object(bt.jsxs)("div",{className:Gn.a.headerWrapper,children:[Object(bt.jsxs)("div",{className:Gn.a.profileImage,onClick:function(){document.querySelector("#profileInput").click()},children:[Object(bt.jsx)("img",{alt:"profile",src:null!==(e=null===l||void 0===l?void 0:l.imgUrl)&&void 0!==e?e:B}),Object(bt.jsx)("input",{id:"profileInput",hidden:!0,type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader,n={api:"".concat("http://localhost:8000","/updateProfileImage"),want_caption:!1,aspect:1,dispatchFunc:[function(e){return lt(e.data)}]};t.addEventListener("load",(function(){return xt(Object(bt.jsx)(In,{imgSrc:t.result.toString()||"",options:n}))})),e.target.files[0]&&t.readAsDataURL(e.target.files[0])}}})]}),Object(bt.jsxs)("div",{className:Gn.a.profileDetail,children:[Object(bt.jsxs)("div",{className:Gn.a.profileName,ref:p,children:[Object(bt.jsx)("span",{ref:I,onInput:function(){c(!0)},onClick:function(){c(!0)},contentEditable:l.id===s.id,suppressContentEditableWarning:!0,children:l.name})," ",r&&l.id===s.id&&Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)(w.FaCheck,{"data-btn":!0,style:{cursor:"pointer"},size:15,onClick:function(){return new Promise(function(){var e=Object(A.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==I.current.innerText){e.next=3;break}throw new Error("Invalid Name");case 3:return e.next=5,v("".concat("http://localhost:8000","/updateProfileName"),{full_name:I.current.innerText});case 5:200===(a=e.sent).status&&(d(st(a.data)),c(!1),t()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),f(),n(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}())},color:"#34b233"})," ",Object(bt.jsx)(w.FaTimes,{"data-btn":!0,style:{cursor:"pointer"},size:15,onClick:f,color:"#f12525de"})]})]}),Object(bt.jsxs)("div",{className:Gn.a.followDetail,children:[Object(bt.jsxs)("div",{children:[l.postCount," Posts"]}),Object(bt.jsxs)("div",{children:[l.follower," Followers"]}),Object(bt.jsxs)("div",{children:[l.following," Following"]})]}),!(null===l||void 0===l?void 0:l.isMyProfile)&&Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("button",{className:Gn.a.follow_btn,onClick:j,"data-btn":!0,children:l.isFollowed?"Unfollow":"Follow"}),l.isFollowed&&Object(bt.jsx)("button",{"data-btn":!0,className:Gn.a.message_btn,onClick:function(){d(Fe({channel:{_id:l.id,full_name:l.name,profileImageUrl:l.imgUrl}})),C.push("message")},children:"Message"})]})]})]})}),Object(bt.jsxs)("div",{className:Gn.a.footer,children:[Object(bt.jsx)("div",{className:Gn.a.footer_heading,children:"Posts"}),Object(bt.jsx)(Zn,{})]})]})},$n=n(73),ea=n.n($n),ta=function(e,t,n){return new Promise(function(){var a=Object(A.a)(i.a.mark((function a(r,c){var o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,20,a.next=4,x("".concat("http://localhost:8000","/latestNotifications"),{params:{page:e.length/20,size:20,id:n}});case 4:200===(o=a.sent).status&&(o.data.notifications.length&&t(Ne({notifications:o.data.notifications,hasNext:o.data.hasNext})),r()),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),c(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}())},na=function(){var e=Object(g.b)(),t=Object(g.c)(ye),n=Object(g.c)(F);return Object(a.useEffect)((function(){0===t.notifications.length&&ta(t.notifications,e,n.id)})),Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("div",{className:ea.a.heading,children:"Notifications"}),Object(bt.jsx)("div",{id:"notificationsScrollableDiv",className:ea.a.wrapper,children:Object(bt.jsx)(Pt.a,{dataLength:t.notifications.length,next:function(){return ta(t.notifications,e,n.id)},hasMore:t.hasNext,loader:Object(bt.jsx)("h4",{children:"Loading..."}),scrollableTarget:"notificationsScrollableDiv",children:t.notifications.map((function(e,t){return Object(bt.jsx)("div",{index:t,children:e.notificationText},t)}))})})]})},aa=(n(102),n(100)),ra=n.n(aa),ca=n(74),oa=n.n(ca),sa=n(48),ia=n.n(sa),Aa=function(e){var t,n,a=e.channelData,r=e.index,c=e.active,o=Object(g.b)();return Object(bt.jsxs)("div",{onClick:function(){o(Le({selected:r}))},className:"".concat(ia.a.wrapper," ").concat(c?ia.a.selectedChannel:""),children:[Object(bt.jsx)("div",{className:ia.a.profileImg,children:Object(bt.jsx)("img",{src:null!==(t=a.profileImageUrl)&&void 0!==t?t:B,alt:"follower"})}),Object(bt.jsx)("div",{className:ia.a.rightSection,children:Object(bt.jsx)("span",{children:null!==(n=null===a||void 0===a?void 0:a.full_name)&&void 0!==n?n:"Name"})})]})},la=function(e,t){return new Promise(function(){var n=Object(A.a)(i.a.mark((function n(a,r){var c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,10,n.next=4,x("".concat("http://localhost:8000","/channelIds"),{params:{page:e.length/10,size:10}});case 4:200===(c=n.sent).status&&(c.data.channelIdList.length&&t(Re({channelIdList:c.data.channelIdList,hasNext:c.data.hasNext})),a()),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),r(!1);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}())},ua=function(){var e,t=Object(g.b)(),n=Object(g.c)(Be),r=Object(g.c)(De);return Object(a.useEffect)((function(){0===n.channelIdList.length&&la(n.channelIdList,t)}),[]),Object(bt.jsxs)("div",{className:oa.a.wrapper,children:[Object(bt.jsx)("div",{id:"channelScrollableDiv",className:oa.a.heading,children:"Messages"}),Object(bt.jsx)(Pt.a,{dataLength:null===n||void 0===n||null===(e=n.channelIdList)||void 0===e?void 0:e.length,next:function(){return la(null===n||void 0===n?void 0:n.channelIdList,t)},hasMore:null===n||void 0===n?void 0:n.hasNext,loader:Object(bt.jsx)("h4",{children:"Loading..."}),scrollableTarget:"channelScrollableDiv",children:n.channelIdList.map((function(e,t){return Object(bt.jsx)(Aa,{index:t,channelData:e,active:r===t},t)}))})]})},ga=n(35),da=n.n(ga),Ca=n(49),Ia=n.n(Ca),pa=function(e){var t=e.messageData;return Object(bt.jsxs)("div",{className:"".concat(Ia.a.wrapper," ").concat(1===t.id?Ia.a.myBubble:""),children:[Object(bt.jsx)("span",{className:Ia.a.message,children:t.message}),Object(bt.jsx)(N.a,{className:Ia.a.time,datetime:t.createdAt})]})},ha=function(e,t,n){return new Promise(function(){var a=Object(A.a)(i.a.mark((function a(r,c){var o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t){a.next=3;break}return a.abrupt("return");case 3:return 12,a.next=6,x("".concat("http://localhost:8000","/latestMessages"),{params:{page:e.length/12,size:12,senderId:t}});case 6:200===(o=a.sent).status&&(o.data.messages.length&&n(Ge({messages:o.data.messages,hasNext:o.data.hasNext})),r()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),c(!1);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}())},ja=function(){var e,t,n,r=Object(g.b)(),c=Object(g.c)(Je),o=Object(g.c)(ze),s=Object(g.c)(et),i=Object(g.c)(F);Object(a.useEffect)((function(){0===c.messages.length&&ha(c.messages,null===o||void 0===o?void 0:o._id,r)}),[c.messages,r,null===o||void 0===o?void 0:o._id]),Object(a.useEffect)((function(){r(Ve())}),[null===o||void 0===o?void 0:o._id,r]),Object(a.useEffect)((function(){s&&(null===i||void 0===i?void 0:i.id)&&s.on("".concat(i.id),(function(e){r(Ye({messages:[Object(d.a)(Object(d.a)({},e),{},{id:(null===o||void 0===o?void 0:o._id)===e.recieverId})]}))}))}),[r,null===o||void 0===o?void 0:o._id,s,null===i||void 0===i?void 0:i.id]);var A=function(e,t){e&&0!==(null===e||void 0===e?void 0:e.length)&&(s.emit("Send Message",{recieverId:t,message:e}),r(Ye({messages:[{message:e,senderId:i.id,recieverId:t,id:1}]})),r(Ee({message:""})))};return Object(bt.jsxs)("div",{className:da.a.wrapper,children:[Object(bt.jsxs)("div",{className:da.a.heading,children:[Object(bt.jsx)("div",{className:da.a.profileImg,children:Object(bt.jsx)("img",{src:null!==(e=null===o||void 0===o?void 0:o.profileImageUrl)&&void 0!==e?e:B,alt:"follower"})}),Object(bt.jsx)("span",{children:null!==(t=null===o||void 0===o?void 0:o.full_name)&&void 0!==t?t:"No Channel Selected"})]}),Object(bt.jsx)("div",{id:"messageScrollableDiv",className:da.a.chatSection,children:Object(bt.jsx)(Pt.a,{dataLength:null===c||void 0===c||null===(n=c.messages)||void 0===n?void 0:n.length,next:function(){return ha(null===c||void 0===c?void 0:c.messages,null===o||void 0===o?void 0:o._id,r)},style:{display:"flex",flexDirection:"column-reverse"},inverse:!0,hasMore:null===c||void 0===c?void 0:c.hasNext,loader:Object(bt.jsx)("h4",{children:"Loading..."}),scrollableTarget:"messageScrollableDiv",children:c.messages.map((function(e,t){return Object(bt.jsx)(pa,{index:t,messageData:e},t)}))})}),o&&function(){var e;return Object(bt.jsxs)("div",{className:da.a.footer,children:[Object(bt.jsx)("input",{placeholder:"Enter your Message",className:da.a.input,type:"text",value:null!==(e=null===o||void 0===o?void 0:o.message)&&void 0!==e?e:"",onChange:function(e){r(Ee({message:e.target.value}))},onKeyDown:function(e){"Enter"===e.key&&A(null===o||void 0===o?void 0:o.message,null===o||void 0===o?void 0:o._id)}}),Object(bt.jsx)("div",{"data-btn":!0,onClick:function(){return A(null===o||void 0===o?void 0:o.message,null===o||void 0===o?void 0:o._id)},className:da.a.send,children:"Send"})]})}()]})},fa=function(){var e=localStorage.getItem("token"),t=Object(g.b)();return Object(a.useEffect)((function(){return t(Ke({token:e})),function(){t($e())}}),[t,e]),Object(bt.jsxs)("div",{className:ra.a.wrapper,children:[Object(bt.jsx)(ua,{}),Object(bt.jsx)(ja,{})]})};n(157).config();var ba=function(e,t){return new Promise(function(){var n=Object(A.a)(i.a.mark((function n(a,r){var c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v("".concat("http://localhost:8000","/auth/loginWithToken"),{token:e});case 3:200===(c=n.sent).status&&(t(P(null===c||void 0===c?void 0:c.data)),a(!0)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r(!1);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}())};var ma=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(g.b)();return Object(a.useEffect)((function(){var e=function(){var e=Object(A.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("token"))){e.next=9;break}return e.t0=r,e.next=5,ba(t,c);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=10;break;case 9:r(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("storage",e),window.dispatchEvent(new Event("storage")),function(){window.removeEventListener("storage",e)}}),[]),Object(bt.jsxs)("div",{className:"App",children:[Object(bt.jsx)(j.a,{}),Object(bt.jsx)(l.a,{children:Object(bt.jsx)(u.d,{children:n?Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)(wn,{}),Object(bt.jsx)(u.b,{path:"/home",children:Object(bt.jsx)(Ht,{})}),Object(bt.jsx)(u.b,{path:"/profile",children:Object(bt.jsx)(Kn,{})}),Object(bt.jsx)(u.b,{path:"/notifications",children:Object(bt.jsx)(na,{})}),Object(bt.jsx)(u.b,{path:"/message",children:Object(bt.jsx)(fa,{})}),Object(bt.jsx)(u.a,{to:"/home"})]}):Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)(u.b,{path:"/login",children:Object(bt.jsx)(nn,{})}),Object(bt.jsx)(u.b,{path:"/register",children:Object(bt.jsx)(kn,{})}),Object(bt.jsx)(u.b,{path:"/forgotPassword",children:Object(bt.jsx)(Tn,{})}),Object(bt.jsx)(u.a,{to:"/login"})]})})})]})},va=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,163)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};c.a.render(Object(bt.jsxs)(g.a,{store:ft,children:[Object(bt.jsx)("div",{id:"modal"}),Object(bt.jsx)(ma,{})]}),document.getElementById("root")),va()},20:function(e,t,n){e.exports={container:"post_container__GjQmk",profile:"post_profile__Gg7Mk",head:"post_head__ALaR4",post:"post_post__31MrX",profile_name:"post_profile_name__E4h3W",footer:"post_footer__2_kXI",comment:"post_comment__2JNGV",share:"post_share__gZv4O",post_footer:"post_post_footer__DtNUG",name:"post_name__3J_uo",post_time:"post_post_time__Q_ys5",like:"post_like__2-b-p"}},24:function(e,t,n){e.exports={header:"profile_header__17T_Y",wrapper:"profile_wrapper__1UlB1",profileName:"profile_profileName__IylXr",follow_btn:"profile_follow_btn__3LB5u",message_btn:"profile_message_btn__3rcC_",headerWrapper:"profile_headerWrapper__22uqQ",footer_heading:"profile_footer_heading__1MBak",profileImage:"profile_profileImage__2GhcJ",profileDetail:"profile_profileDetail__1ZcbH",followDetail:"profile_followDetail__1b2GN",footer:"profile_footer__3ecxY"}},35:function(e,t,n){e.exports={wrapper:"rightPane_wrapper__3lGVP",heading:"rightPane_heading__zby8x",profileImg:"rightPane_profileImg__3SQj0",chatSection:"rightPane_chatSection__2QHp8",footer:"rightPane_footer__3vyLc",input:"rightPane_input__M1z0x",send:"rightPane_send__3G8vO"}},40:function(e,t,n){e.exports={container:"commentContainer_container__3UvzL",commentContainer:"commentContainer_commentContainer__1tHzq",posterName:"commentContainer_posterName__1cC-j",profileImage:"commentContainer_profileImage__2HOJw",scrollableDiv:"commentContainer_scrollableDiv__3v4GS"}},41:function(e,t,n){e.exports={container:"login_container__12WLt",form:"login_form__3avXM",heading:"login_heading__1Jyj1",inputBox:"login_inputBox__M8PUY",input:"login_input__1rGja",submitButton:"login_submitButton__1QVqU",forgot_password:"login_forgot_password__3xzn3"}},42:function(e,t,n){e.exports={bar:"navbar_bar__2_BT4",logo:"navbar_logo__2iJVN",links:"navbar_links__1yYc3",last_link:"navbar_last_link__bINUr",active:"navbar_active__1LL-m"}},46:function(e,t,n){e.exports={wrapper:"createPost_wrapper__1otBB",container:"createPost_container__3nzTv",heading:"createPost_heading__1Ss7W",image:"createPost_image__1c0RJ",instruction:"createPost_instruction__3QBDE"}},47:function(e,t,n){e.exports={container:"register_container__bNlKX",form:"register_form__2PGuK",heading:"register_heading__gLuyn",inputBox:"register_inputBox__11zHA",input:"register_input__2tWmD",submitButton:"register_submitButton__3DauQ"}},48:function(e,t,n){e.exports={wrapper:"channel_wrapper__VFKzu",selectedChannel:"channel_selectedChannel__22zsQ",profileImg:"channel_profileImg__2bznJ",rightSection:"channel_rightSection__36Q9n"}},49:function(e,t,n){e.exports={wrapper:"bubble_wrapper__36LSj",myBubble:"bubble_myBubble__3oM3M",message:"bubble_message__3EqDx",time:"bubble_time__1iQuK"}},54:function(e,t,n){e.exports={container:"modal_container__3QI5W",modal_container:"modal_modal_container__zHmlp",icon:"modal_icon__3FHVR"}},55:function(e,t,n){e.exports={post_input:"comment_post_input__1Unzf",post_button:"comment_post_button__3LcEP",comment_input_wrapper:"comment_comment_input_wrapper__1jpYz"}},56:function(e,t,n){e.exports={inputBox:"formInput_inputBox__2V5Xz",input:"formInput_input__11ZUp",fixInputPlaceholder:"formInput_fixInputPlaceholder__1iiCJ"}},57:function(e,t,n){e.exports={wrapper:"cropImage_wrapper__V7j3C",round_border:"cropImage_round_border__S1DmV",addPost:"cropImage_addPost__1gf_A",footer:"cropImage_footer__RB8ku"}},59:function(e,t,n){e.exports={profileImage:"profileContainer_profileImage__1r8OU",profileContainer:"profileContainer_profileContainer__uakDm",profileInfo:"profileContainer_profileInfo__3FIAR"}},66:function(e,t,n){e.exports={header:"home_header__32OE9",wrapper:"home_wrapper__hdWpl"}},69:function(e,t,n){e.exports={searchContainer:"searchFriends_searchContainer__Pln5K",searchResultContainer:"searchFriends_searchResultContainer__1B2Ol"}},70:function(e,t,n){e.exports={container:"forgotPassword_container__BJ4Mc",wrapper:"forgotPassword_wrapper__2gTgh",submitButton:"forgotPassword_submitButton__2iXv5"}},71:function(e,t,n){e.exports={submitButton:"otpVerification_submitButton__1wBez",backButton:"otpVerification_backButton__3WT4A"}},72:function(e,t,n){e.exports={submitButton:"sendEmail_submitButton__1lRF7",backButton:"sendEmail_backButton__27QJY"}},73:function(e,t,n){e.exports={wrapper:"notifications_wrapper__2CGXa",heading:"notifications_heading__1OJmB"}},74:function(e,t,n){e.exports={wrapper:"leftPane_wrapper__3L2tZ",heading:"leftPane_heading__1M8DE"}},92:function(e,t,n){e.exports={wrapper:"completePost_wrapper__TaODo"}},93:function(e,t,n){e.exports={container:"stories_container__3uzoB"}},94:function(e,t,n){e.exports={container:"story_container__3szJi"}},97:function(e,t,n){e.exports={submitButton:"newPassword_submitButton__2L38k"}},98:function(e,t,n){e.exports={wrapper:"singlePostCard_wrapper__2DtCv"}},99:function(e,t,n){e.exports={wrapper:"allPosts_wrapper__1IKye"}}},[[161,1,2]]]);
//# sourceMappingURL=main.35661730.chunk.js.map