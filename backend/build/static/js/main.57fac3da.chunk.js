(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,n){e.exports={wrapper:"completePost_wrapper__TaODo"}},104:function(e,t,n){e.exports={container:"stories_container__3uzoB"}},105:function(e,t,n){e.exports={container:"story_container__3szJi"}},106:function(e,t,n){e.exports={submitButton:"newPassword_submitButton__2L38k"}},107:function(e,t,n){e.exports={wrapper:"allPosts_wrapper__1IKye"}},108:function(e,t,n){e.exports={wrapper:"message_wrapper__1Hm6x"}},109:function(e,t,n){e.exports={wrapper:"loading_wrapper__1NH78"}},116:function(e,t,n){},118:function(e,t,n){},16:function(e,t,n){e.exports={container:"post_container__GjQmk",profile:"post_profile__Gg7Mk",containerWrapper:"post_containerWrapper__1gCLh",proxyBlock:"post_proxyBlock__1fPjv",head:"post_head__ALaR4",post:"post_post__31MrX",profile_name:"post_profile_name__E4h3W",footer:"post_footer__2_kXI",comment:"post_comment__2JNGV",share:"post_share__gZv4O",post_footer:"post_post_footer__DtNUG",footerWrapper:"post_footerWrapper__4fxHV",name:"post_name__3J_uo",post_time:"post_post_time__Q_ys5",like:"post_like__2-b-p",dummy:"post_dummy__QGTz4"}},211:function(e,t,n){"use strict";n.r(t);var a,r=n(1),o=n(36),i=n.n(o),s=(n(116),n(23)),c=n(6),l=n(2),u=n.n(l),d=n(4),A=n(9),g=(n(118),n(3)),p=n(7),C=n(96),I=n.n(C),f=n(58),b=n.n(f),h=n(40),j=(n(141),function(e){h.b.success(e)}),m=function(e){h.b.error(e)},v=function(e,t){h.b.promise(e,t)},x=function(e){Object.entries(e).forEach((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];localStorage.setItem(n,a)})),a=setTimeout((function(){O(["token"])}),72e5),window.dispatchEvent(new Event("storage"))},O=function(e){e.forEach((function(e){localStorage.removeItem(e)})),a&&clearTimeout(a),window.dispatchEvent(new Event("storage"))},_=function(){var e;return null!==(e="production")?e:"development"},w=function(e){var t,n,a,r,o,i,s,c,l;return"string"===typeof(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)||(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)instanceof String?null===e||void 0===e||null===(o=e.response)||void 0===o?void 0:o.data:(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)?"Invalid Token"!==(null===e||void 0===e||null===(i=e.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)?null===e||void 0===e||null===(c=e.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message:void O(["token"]):e.message},k=function(e){return"production"!==_()&&(e=e.replace("https://kikitalk.herokuapp.com","http://localhost:8000")),e},y=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2&&void 0!==r[2]?r[2]:{},e.abrupt("return",new Promise(function(){var e=Object(d.a)(u.a.mark((function e(r,o){var i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k(t),e.next=4,localStorage.getItem("token");case 4:return i=e.sent,a=Object(p.a)(Object(p.a)({},a),{},{headers:{Authentication:i}}),e.next=8,b.a.post(t,I.a.stringify(n),a);case 8:200===(s=e.sent).status&&r(s),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),m(w(e.t0)),o(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",new Promise(function(){var e=Object(d.a)(u.a.mark((function e(a,r){var o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k(t),e.next=4,localStorage.getItem("token");case 4:return o=e.sent,n=Object(p.a)(Object(p.a)({},n),{},{headers:{Authentication:o}}),e.next=8,b.a.get(t,n);case 8:200===(i=e.sent).status&&a(i),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),m(w(e.t0)),r(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(){var a=Object(d.a)(u.a.mark((function a(r,o){var i,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e=k(e),a.next=4,localStorage.getItem("token");case 4:return i=a.sent,n=Object(p.a)(Object(p.a)({},n),{},{data:t,headers:{Authentication:i}}),a.next=8,b.a.delete(e,n);case 8:200===(s=a.sent).status&&r(s),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),m(w(a.t0)),o(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e,t){return a.apply(this,arguments)}}())},F=n(16),S=n.n(F),L="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjQ5ZDRhN2FlLTI1NjYtNDY5Yi05NmI5LWUxYzAxM2JiNmEwYzwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjUxYWY0OTY0LWE4MjQtNDk1Yy04MzgzLTQ3OTYxMzNjMzY2YjwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/8AACwgBaAFoAQERAP/EABsAAQADAQEBAQAAAAAAAAAAAAAFBgcEAgMB/8QAPhABAAEDAgIECA0EAgMAAAAAAAECAwQFBhEhEjFBUQcTNmFzgbHRFSIkMkJSU2JxcpGhwRQjk+GC8RY0Vf/aAAgBAQAAPwDXQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI59XN68XX9Sr9HmeXXyAAAAAAAAAAAAAfbCxMnMvRZxbFd6ueymOK16Xsa/ciK9RyYtR9nb51fr1LHhbX0TFiOGHF2qPpXZ6X+kpaxMWzHC1jWaI+7REPr0afqx+j5XcTFvRwu41muPvURKLzdr6JlRPHDi1VP0rU9H/Suapsa/bia9OyYux9nc5Vfr1Kpm4mTh3ps5ViuzXHZVHB8QAAAAAAAAAABZdsbVyNSinJy+lYxZ5x9av8O6PO0DT8HE0+xFnEsUWqI6+Ec5/Ge10gAObUMHE1CxNjLsU3aJ745x+E9jP9z7VyNNirJxOlfxY5z9aj8e+POrQAAAAAAAAAALjsrbMZEUalqFv+112rUx87zz5l9iIiOERwiAAACYiY4THGJULeu2Yx4r1LT7f9rru2oj5vnjzKcAAAAAAAAAAn9l6J8K5/jb9M/wBLYmJr+9PZS06mIppimmIiIjhER2P0AAAflURVTNNURMTHCYntZjvTRPgrP8bYpn+lvzM0fdntpQAAAAAAAAAA9Wrdd27Rat0zVXXMU0xHbMtd0DTqNL0uziURHSpjjXP1qp65d4AAADg1/TqNU0u9iV8OlVHGifq1R1SyK7brtXa7Vymaa6JmmqJ7Jh5AAAAAAAAAWPwe4MZWuxfrjjRjU9P/AJdUe/1NLAAAABmnhCwYxddm/RHCjJp6f/Lqn3+tXAAAAAAAAAGh+DPGi3pF7JmOd67w9VMf9rWAAAACqeEvGi5pFnJiPjWbvD1VR/0zwAAAAAAAABquybcW9sYfD6VM1T66pTIAAAAIbe1uLm2Mzj9GmKo9VUMqAAAAAAAAAaxtCYnbWDw+z/mUsAAAACJ3fPDbWdx+z/mGTgAAAAAAAANP2Bei7tmxTx526qqJ/Xj/ACnwAAAAQG/73its36ePO5VTRH68f4ZgAAAAAAAAAvHgwy46OXg1TziYu0x+0/wuwAAAAKT4T8uOjiYNM85mbtUftH8qOAAAAAAAAAk9sah8G61j5Mzwt8ehc/LPKfe1uJiYiYnjE9UgAAABMxETMzwiOuWSbn1D4S1rIyYnjb49C3+WOUe9GAAAAAAAAADSdhavGdpsYd6r5Rjxw59dVHZP8LKAAAArW/dXjB02cOzXwyMiOHLrpo7Z/hmwAAAAAAAAAOnS86/p2dby8erhXRPV2VR2xLWNG1LH1TBoyserlPKqmeume6XaAAAOLWdSx9Lwa8rIq5Ryppjrqnuhk+qZ1/Uc65l5FXGuuerspjsiHMAAAAAAAAAAkNB1fK0jMi/YnpUTyuW5nlXHv87T9F1bD1bFi9i184+fRPzqJ87vAABwa1q2HpOLN7Kr5z8yiPnVz5mYa9q+Vq+ZN+/PRojlbtxPKiPf50eAAAAAAAAAAD74OXk4WRTkYt6q1cp7Yn29686FvTHvRTZ1OnxFzq8bTHxJ/HuWuxetX7cXLNyi5RPVVTPGJewB4v3rVi3Ny9cot0R11VTwiFU13emPZiqzplPj7nV42qPiR+Heo2dl5ObkVZGVequ3Ku2Z9nc+AAAAAAAAAAAAOjCzszCr6eJk3bM/dq5T6lgwt7apZiKci3ZyI75joz+3uSlnfmPMf3tPu0z9yuJ9z7/+dabw/wDVyv0p974Xt+Y8R/Z0+7VP364j3ovN3tql6Jpx7dnHjviOlP7+5X83OzM2vp5eTdvT96rlHqc4AAAAAAAAAAAAAAAAAAAAAAAAAA7MHS9QzZ+S4d67HfFPL9epN4eydVu8Jv3LGPHdNXSn9ktjbDxaeE5Gddr81FMU+9IWdnaHb+dZu3PzXJ/h129t6HR1adZn83Gfa+1OiaRT1abi/wCOHv4I0r/52L/ih4q0TSKuvTcX/HD43Nt6HX16dZj8vGPY5L2ztDufNs3bf5bk/wAo/J2HjVcZx867RPdXTFXs4InM2TqtrjNi5YyI7oq6M/uhM7S9Qwp+VYd61HfNPL9epxgAAAAAAAAD1at13bkW7dFVddU8IppjjMrPo+y8/KiLmbXGJbn6PXXPq7Ft0zbWkYHCqjGi9cj6d340+5MRERHCIiIjsgAAACYiY4TETE9kofU9taRn8aq8aLNyfp2viz7lS1jZefixNzCrjLtx9Hqrj1dqsXbddq5Nu5RVRXTPCaao4TDyAAAAAAAAmtu7dzdXqi5EeJxonndqjr/CO1oejaLgaVb6OLZjxnD41yrnVPrSIAAAAAjtZ0XA1W30cqzHjOHxblPKqPWzzcW3c3SKpuTHjsaZ5XaY6vxjsQoAAAAAAAteztrzndHO1Cmacbrot9U3PPPm9rQbdFFuimi3TFNNMcIiI4REPQAAAAADzcoouUVUXKYqpqjhMTHGJhn28drzg9LO0+masbrrt9c2/PHmVQAAAAAAFi2VoXwpl/1ORT8kszzj69Xd72l0xFNMU0xEREcIiOx+gAAAAAA/KoiqmaaoiYmOExPazTe2hfBeX/U49PyS9PKPqVd3uV0AAAAAB9cLHuZeXaxrMcbl2qKaWv6VhWtOwLWJZj4tunhx757ZdQAAAAAAA5dVwrWo4F3EvR8W5Tw4909ksgzce5iZd3GvRwuWqppqfIAAAAAFt8GmDF3UL2dXHGLFPRo/NP8Ar2tBAAAAAAAAZ94S8GLWoWc6iOEX6ejX+aP9exUgAAAAAaX4PMeLO3abnDneuVVz7I9ixgAAAAAAAK54Q8eL23a7nDnZuU1x7J9rNAAAAAAaztCmKdtYMR9lx/eUqAAAAAAAAit30xVtrOifsuP7wyYAAAAAGtbS8m8D0UJQAAAAAAABF7t8m8/0UslAAAAABrW0vJvA9FCUAAAAAAAARe7fJvP9FLJQAAAAAa1tLybwPRQlAAAAAAAAEXu3ybz/AEUslAAAAABrW0vJvA9FCUAAAAAAAARe7fJvP9FLJQAAAAAa1tLybwPRQlAAAAAAAAEXu3ybz/RSyUAAAAAGtbS8m8D0UJQAAAAAAABF7t8m8/0UslAAAAABrW0vJvA9FCUAAAAAAAARe7fJvP8ARSyUAAAAAGtbS8m8D0UJQAAAAAAABF7t8m8/0UslAAAAABrW0vJvA9FCUAAAAAAAARe7fJvP9FLJQAAf/9k=",D=n(5),B=n(8),z=Object(B.b)({name:"posts",initialState:{postCount:0,hasNext:!1,posts:[]},reducers:{addPost:function(e,t){return e.posts.unshift(t.payload.post),e.postCount=e.posts.length,e},addPosts:function(e,t){var n,a;return(n=e.posts).push.apply(n,Object(D.a)(t.payload.posts)),e.postCount=e.posts.length,e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext,e},updatePost:function(e,t){var n=e.posts[t.payload.index];return e.posts[t.payload.index]=Object(p.a)(Object(p.a)({},n),t.payload.postData),e},addLike:function(e,t){var n=t.payload.index,a=t.payload.userId;return e.posts[n].likedBy.includes(a)||e.posts[n].likedBy.push(a),e},removePost:function(e,t){var n=e.posts.find((function(e){return e._id===t.payload.postId}));return-1!==n&&e.posts.splice(n,1),e.postCount=e.posts.length,e},removeLike:function(e,t){var n=t.payload.userId,a=t.payload.index,r=e.posts[a].likedBy.indexOf(n);return r>-1&&e.posts[a].likedBy.splice(r),e}}}),E=z.actions,R=E.addPost,M=E.addPosts,U=(E.addLike,E.removeLike,E.updatePost),T=E.removePost,G=function(e){return e.postState},W=z.reducer,H={id:"",imgUrl:"",name:"",postCount:0,follower:0,following:0,isMyProfile:!1,isFollowed:!1},V=Object(B.b)({name:"profile",initialState:H,reducers:{addProfile:function(e,t){return t.payload},toggleFollow:function(e,t){return e.isFollowed=t.payload.isFollower,e.follower=e.follower+(t.payload.isFollower?1:-1),e},updateFollowing:function(e,t){return e.following+=t.payload.isFollower?1:-1,e},addProfileId:function(e,t){return e.id=t.payload.id,e},increasePostCount:function(e){return e.postCount=e.postCount+1,e},decreasePostCount:function(e){return e.postCount=e.postCount-1,e},updateProfileNameInStore:function(e,t){return e.name=t.payload.name,e},addProfileImage:function(e,t){return e.imgUrl=t.payload.imgUrl,e},resetProfile:function(){return H}}}),Y=V.actions,J=Y.addProfile,X=Y.toggleFollow,Z=Y.updateProfileNameInStore,q=Y.resetProfile,Q=Y.addProfileId,K=Y.addProfileImage,$=Y.increasePostCount,ee=Y.updateFollowing,te=Y.decreasePostCount,ne=function(e){return e.profileState},ae=V.reducer,re=Object(B.b)({name:"navSlice",initialState:{active:-1},reducers:{setActive:function(e,t){return e.active=t.payload.index,e}}}),oe=re.actions.setActive,ie=function(e){return e.navState.active},se=re.reducer,ce=n(10),le=n(57),ue={profileList:[],hasNext:!1},de=Object(B.b)({name:"profileList",initialState:ue,reducers:{addProfiles:function(e,t){var n,a;(n=e.profileList).push.apply(n,Object(D.a)(t.payload.profiles)),e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext},toggleFollowOnList:function(e,t){var n=t.payload.index;return e.profileList[n].buttonText="Follow"===e.profileList[n].buttonText?"Unfollow":"Follow",e},changeButtonText:function(e,t){var n=t.payload.index,a=t.payload.text;return e.profileList[n].buttonText=a,e},resetProfileList:function(){return ue}}}),Ae=de.actions,ge=Ae.addProfiles,pe=Ae.resetProfileList,Ce=Ae.toggleFollowOnList,Ie=Ae.changeButtonText,fe=function(e){return e.ProfileListState},be=de.reducer,he=n(110),je={socket:null},me=Object(B.b)({name:"socket",initialState:je,reducers:{createSocket:function(e,t){var n=Object(he.a)(k("https://kikitalk.herokuapp.com"),{auth:{token:t.payload.token}});return e.socket=n,e},resetSocket:function(e){return e.socket&&e.socket.close(),je}}}),ve=me.actions,xe=ve.createSocket,Oe=ve.resetSocket,_e=function(e){return e.socketState.socket},we=me.reducer,ke=Object(B.b)({name:"user",initialState:{id:"",name:""},reducers:{setUser:function(e,t){Object.keys(e).forEach((function(n){return e[n]=t.payload[n]}))},logout:function(e,t){return e}}}),ye=function(e){var t=e._id,n=e.full_name;return function(e){e(Ne({id:t,name:n}))}},Pe=ke.actions,Ne=Pe.setUser,Fe=Pe.logout,Se=function(e){return e.user},Le=function(e){return e.user.id},De=ke.reducer,Be=n(12),ze=n(13),Ee=n(15),Re=n(14),Me=n(59),Ue=n.n(Me),Te=n(34),Ge=n(100),We=n.n(Ge),He={commentCount:0,hasNext:!1,comments:[]},Ve=Object(B.b)({name:"comments",initialState:He,reducers:{addComment:function(e,t){e.comments.unshift(t.payload.comment),e.commentCount=e.comments.length},addComments:function(e,t){var n,a,r;(n=e.comments).push.apply(n,Object(D.a)(t.payload.comments)),e.commentCount=e.comments.length,e.hasNext=null!==(a=null===(r=t.payload)||void 0===r?void 0:r.hasNext)&&void 0!==a?a:e.hasNext},resetCommentState:function(){return He}}}),Ye=Ve.actions,Je=Ye.addComment,Xe=Ye.addComments,Ze=Ye.resetCommentState,qe=function(e){return e.commentState},Qe=Ve.reducer,Ke={searchResult:[],hasNext:!1},$e=Object(B.b)({name:"searchUser",initialState:Ke,reducers:{setSearchResult:function(e,t){var n;return(n=e.searchResult).push.apply(n,Object(D.a)(t.payload.searchResult)),e.hasNext=t.payload.hasNext,e},unsetSearchResult:function(e){return Ke}}}),et=$e.actions,tt=et.setSearchResult,nt=et.unsetSearchResult,at=function(e){return e.searchUserState},rt=$e.reducer,ot={posts:[],hasNext:!1},it=Object(B.b)({name:"allPosts",initialState:ot,reducers:{addPosts:function(e,t){var n,a;(n=e.posts).push.apply(n,Object(D.a)(t.payload.posts)),e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext},addPostInAllPost:function(e,t){return e.posts.unshift(t.payload.post),e},updatePost:function(e,t){var n=e.posts[t.payload.index];return e.posts[t.payload.index]=Object(p.a)(Object(p.a)({},n),t.payload.postData),e},removeFromAllPost:function(e,t){var n=e.posts.find((function(e){return e._id===t.payload.postId}));return-1!==n&&e.posts.splice(n,1),e},resetAllPosts:function(){return ot}}}),st=it.actions,ct=st.addPosts,lt=st.addPostInAllPost,ut=st.updatePost,dt=st.resetAllPosts,At=st.removeFromAllPost,gt=function(e){return e.allPostsState},pt=it.reducer,Ct={notifications:[],hasNext:!1},It=Object(B.b)({name:"notifications",initialState:Ct,reducers:{addNotifications:function(e,t){var n,a;(n=e.notifications).push.apply(n,Object(D.a)(t.payload.notifications)),e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext},resetNotifications:function(e,t){return Ct}}}),ft=It.actions,bt=ft.addNotifications,ht=(ft.resetNotifications,function(e){return e.notificationsState}),jt=It.reducer,mt=Object(B.b)({name:"channel",initialState:{channelIdList:[],selected:-1,hasNext:!1},reducers:{addChannel:function(e,t){var n,a;(n=e.channelIdList).push.apply(n,Object(D.a)(t.payload.channelIdList)),e.channelIdList.length&&-1===e.selected&&(e.selected=0),e.hasNext=null!==(a=t.payload.hasNext)&&void 0!==a?a:e.hasNext},selectChannelId:function(e,t){e.selected=t.payload.selected},addMessageInChannel:function(e,t){return e.channelIdList[e.selected].message=t.payload.message,e},addInChannel:function(e,t){var n=t.payload.channel._id,a=e.channelIdList.findIndex((function(e){return e._id===n}));-1===a&&(e.channelIdList.unshift(t.payload.channel),a=0),e.selected=a}}}),vt=mt.actions,xt=vt.addChannel,Ot=vt.selectChannelId,_t=vt.addInChannel,wt=vt.addMessageInChannel,kt=function(e){return e.channelState},yt=function(e){var t=parseInt(e.channelState.selected);return t>=0?e.channelState.channelIdList[t]:null},Pt=function(e){return e.channelState.selected},Nt=mt.reducer,Ft={messages:[],hasNext:!1},St=Object(B.b)({name:"chatBox",initialState:Ft,reducers:{addMessage:function(e,t){var n;return t.payload.messages.filter((function(e){return e.senderId===t.payload.channelId||e.recieverId===t.payload.channelId})).forEach((function(t){e.messages.find((function(e){return String(e._id)===String(t._id)}))||(e.messages=[].concat(Object(D.a)(e.messages),[t]))})),e.hasNext=null!==(n=t.payload.hasNext)&&void 0!==n?n:e.hasNext,e},addNewMessages:function(e,t){var n;return e.messages.find((function(e){var n;return e._id===(null===(n=t.payload.messages[0])||void 0===n?void 0:n._id)}))&&(null===(n=t.payload.messages[0])||void 0===n?void 0:n._id)||(e.messages=[].concat(Object(D.a)(t.payload.messages),Object(D.a)(e.messages))),e},resetChatBox:function(){return Ft}}}),Lt=St.actions,Dt=Lt.addMessage,Bt=Lt.resetChatBox,zt=Lt.addNewMessages,Et=function(e){return e.chatBoxState},Rt=St.reducer,Mt={loading:!1,searchUserLoading:!1,homepageLoading:!1,commmentLoading:!1,channelLoading:!1,messageLoading:!1,allPostLoading:!1,profileListLoading:!1},Ut=Object(B.b)({name:"loading",initialState:Mt,reducers:{setLoading:function(e,t){return t.payload?e=Object(p.a)(Object(p.a)({},e),t.payload):e.loading=!0,e},unsetLoading:function(){return Mt}}}),Tt=Ut.actions,Gt=Tt.setLoading,Wt=(Tt.unsetLoading,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"loading";return function(t){return t.loadingState[e]}}),Ht=Ut.reducer,Vt={posts:{}},Yt=Object(B.b)({name:"messagePost",initialState:Vt,reducers:{addPost:function(e,t){return e.posts[t.payload.index]=t.payload.post,e},updatePost:function(e,t){var n=e.posts[t.payload.index];return e.posts[t.payload.index]=Object(p.a)(Object(p.a)({},n),t.payload.postData),e},resetMessagePostState:function(){return Vt}}}),Jt=Yt.actions,Xt=Jt.addPost,Zt=Jt.updatePost,qt=(Jt.setLoaded,Jt.resetMessagePostState),Qt=Yt.reducer,Kt=Object(Te.b)({user:De,postState:W,commentState:Qe,searchUserState:rt,allPostsState:pt,notificationsState:jt,channelState:Nt,chatBoxState:Rt,socketState:we,profileState:ae,navState:se,loadingState:Ht,messagePostState:Qt,ProfileListState:be}),$t=Object(B.a)({reducer:function(e,t){return"user/logout"===t.type&&(e=void 0),Kt(e,t)},middleware:function(e){return e({serializableCheck:!1}).concat("production"===_()?[]:We.a)}}),en=n(0),tn=function(e){e&&e(),i.a.render(Object(en.jsx)(en.Fragment,{}),document.querySelector("#modal"))},nn=function(e){Object(Ee.a)(n,e);var t=Object(Re.a)(n);function n(){return Object(Be.a)(this,n),t.apply(this,arguments)}return Object(ze.a)(n,[{key:"render",value:function(){var e=this;return Object(en.jsxs)("div",{className:Ue.a.container,children:[Object(en.jsx)("div",{className:Ue.a.icon,children:Object(en.jsx)(ce.FaTimes,{onClick:function(){tn(e.props.removeModalFunction)},style:{color:"white"},size:30})}),Object(en.jsx)("div",{className:Ue.a.modal_container,children:this.props.component})]})}}]),n}(r.Component),an=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.a.render(Object(en.jsx)(g.a,{store:$t,children:Object(en.jsx)(nn,{component:e,removeModalFunction:t})}),document.querySelector("#modal"))},rn=n(44),on=n.n(rn),sn=n(60),cn=n.n(sn),ln=n(27),un=function(e){var t=e.postId,n=e.shouldDispatch,a=void 0!==n&&n,r=Object(g.c)(Se),o=Object(ln.a)(),i=o.register,s=o.handleSubmit,c=o.reset,l=Object(g.b)(),A=function(){var e=Object(d.a)(u.a.mark((function e(n){var o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.comment,e.next=3,v(new Promise(function(){var e=Object(d.a)(u.a.mark((function e(n,i){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={postId:t,userId:r.id,comment:o},e.next=4,y("".concat("https://kikitalk.herokuapp.com","/addComment"),s);case 4:c=e.sent,a&&l(Je({comment:c.data})),n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()),{pending:"Posting Comment",success:"Comment Posted Successfully",error:"Error Occured"});case 3:c();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(en.jsx)("div",{children:Object(en.jsxs)("form",{className:cn.a.comment_input_wrapper,onSubmit:s(A),children:[Object(en.jsx)("input",Object(p.a)(Object(p.a)({autoFocus:!0},i("comment",{required:!0})),{},{className:cn.a.post_input,placeholder:"Add a Comment"})),Object(en.jsx)("button",{"data-btn":!0,className:cn.a.post_button,children:"Post"})]})})},dn=n(19),An=n(11),gn=n.n(An),pn=void 0,Cn=function(e,t,n){return new Promise(function(){var a=Object(d.a)(u.a.mark((function a(r,o){var i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(Gt({commmentLoading:!0})),15,a.next=5,P("".concat("https://kikitalk.herokuapp.com","/latestComments"),{params:{page:e.length/15,size:15,postId:n}});case 5:200===(i=a.sent).status&&(t(Xe({comments:Object(D.a)(i.data.comments),hasNext:i.data.hasNext})),r()),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0),o(!1);case 13:return a.prev=13,t(Gt({commmentLoading:!1})),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,9,13,16]])})));return function(e,t){return a.apply(this,arguments)}}())},In=function(e){var t=e.postId,n=(e.postDataUserId,e.history),a=Object(g.b)(),o=Object(g.c)(qe),i=Object(g.c)(Wt("commmentLoading"));Object(r.useEffect)((function(){return 0===o.comments.length&&Cn(o.comments,a,t),function(){a(Ze())}}),[]);var s=function(e){var t=e.userId;a(dt()),a(Q({id:t})),a(oe({index:1})),tn(),n.push("profile")};return Object(en.jsxs)("div",{className:on.a.container,children:[Object(en.jsx)(un,{shouldDispatch:!0,postId:t}),Object(en.jsx)("div",{id:"commentScrollableDiv",className:on.a.scrollableDiv,children:Object(en.jsx)(dn.a,{dataLength:o.comments.length,next:function(){return Cn(o.comments,a,t)},hasMore:o.hasNext||i,loader:Object(en.jsx)(gn.a,{type:"spinner-default",bgColor:"#000000",color:"#000000",size:50}),scrollableTarget:"commentScrollableDiv",endMessage:0===o.comments.length?Object(en.jsx)("p",{align:"center",children:"Be the first to write comment"}):Object(en.jsx)(en.Fragment,{}),children:o.comments.map((function(e,t){return function(e,t){var n,a,r;return Object(en.jsxs)("div",{className:on.a.commentContainer,children:[Object(en.jsx)("div",{"data-btn":!0,onClick:s.bind(pn,{userId:e.userId}),className:on.a.profileImage,children:Object(en.jsx)("img",{alt:"profile",src:null!==(n=null===e||void 0===e?void 0:e.profileImage)&&void 0!==n?n:L})}),Object(en.jsx)("span",{"data-btn":!0,onClick:s.bind(pn,{userId:e.userId}),className:on.a.posterName,children:null!==(a=null===e||void 0===e?void 0:e.profileName)&&void 0!==a?a:""}),Object(en.jsx)("span",{children:null!==(r=null===e||void 0===e?void 0:e.comment)&&void 0!==r?r:""})]},t)}(e,t)}))})})]})},fn=n(101),bn=n.n(fn),hn=function(e){var t=e.options;return Object(en.jsxs)("div",{className:bn.a.wrapper,children:[Object(en.jsx)(kn,{options:t}),Object(en.jsx)(In,{postDataUserId:t.postData.userId,postId:t.postData._id,history:t.history})]})},jn=n(71),mn=n.n(jn),vn=n(45),xn=n.n(vn),On=function(e){var t,n=e.userData,a=e.index,r=e.button,o=e.history,i=Object(g.c)(Se),s=Object(g.b)(),c=function(){s(dt()),s(Q({id:n._id})),s(oe({index:1})),tn(),o.push("profile")};return Object(en.jsxs)("div",{className:xn.a.wrapper,children:[Object(en.jsx)("div",{"data-btn":!0,onClick:c,className:xn.a.profileImage,children:Object(en.jsx)("img",{alt:"profile",src:null!==(t=n.profileImageUrl)&&void 0!==t?t:L})}),Object(en.jsx)("div",{"data-btn":!0,onClick:c,className:xn.a.profileInfo,children:Object(en.jsx)("span",{children:n.full_name})}),n._id!==i.id?Object(en.jsx)("button",{onClick:function(){null===r||void 0===r||r.onClick({userId:n._id,index:a})},"data-btn":"Sent"!==(null===r||void 0===r?void 0:r.text),className:"".concat(xn.a.btn," ").concat("Sent"===(null===r||void 0===r?void 0:r.text)?xn.a.disabledBtn:""),disabled:"Sent"===(null===r||void 0===r?void 0:r.text),children:null===r||void 0===r?void 0:r.text}):Object(en.jsx)(en.Fragment,{})]})},_n=function(e,t,n,a){return new Promise(function(){var r=Object(d.a)(u.a.mark((function r(o,i){var s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t(Gt({profileListLoading:!0})),15,r.next=5,P(n,{params:Object(p.a)({page:e.length/15,size:15},a)});case 5:200===(s=r.sent).status&&(t(ge({profiles:Object(D.a)(s.data.pageData),hasNext:s.data.hasNext})),o()),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0),i(!1);case 13:return r.prev=13,t(Gt({profileListLoading:!1})),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[0,9,13,16]])})));return function(e,t){return r.apply(this,arguments)}}())},wn=function(e){var t=e.options,n=t.url,a=t.params,o=t.button,i=t.heading,s=t.emptyMessage,c=Object(g.c)(fe),l=Object(g.b)(),u=Object(g.c)(Wt("profileListLoading"));return Object(r.useEffect)((function(){return _n(c.profileList,l,n,a),function(){l(pe())}}),[]),Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)("div",{className:mn.a.heading,children:Object(en.jsx)("span",{children:i})}),Object(en.jsx)("div",{id:"profileListScrollableDiv",className:mn.a.wrapper,children:Object(en.jsx)(dn.a,{dataLength:c.profileList.length,next:function(){return _n(c.profileList,l,n,a)},hasMore:c.hasNext||u,loader:Object(en.jsx)(gn.a,{type:"spinner-default",bgColor:"#000000",color:"#000000",size:50}),endMessage:0===c.profileList.length?Object(en.jsx)("p",{align:"center",children:s}):Object(en.jsx)(en.Fragment,{}),scrollableTarget:"profileListScrollableDiv",children:c.profileList.map((function(e,n){return Object(en.jsx)("div",{children:Object(en.jsx)(On,{history:t.history,index:n,userData:e.userData,button:Object(p.a)(Object(p.a)({},o),{},{text:e.buttonText})})},n)}))})})]})};function kn(e){var t,n,a=e.options,o=a.postData,i=a.history,s=a.index,l=a.openComments,A=a.likeStatusSelector,p=a.likeCountSelector,C=a.dispatchActionForLike,I=Object(g.c)(_e),f=Object(g.c)(Se),b=Object(r.useState)(!1),h=Object(c.a)(b,2),j=h[0],m=h[1],v=Object(g.c)(A({index:s,userId:f.id,postData:o})),x=Object(g.c)(p({index:s,postData:o})),O=Object(g.b)(),_=function(){l&&an(Object(en.jsx)(hn,{options:{user:f,history:i,postData:o,index:s,openComments:!1,likeStatusSelector:A,likeCountSelector:p,dispatchActionForLike:C}}))},w=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat("https://kikitalk.herokuapp.com","/toggleLike"),{postId:o._id});case 3:t=e.sent,C({index:s,response:t,postData:o}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(en.jsxs)("div",{className:S.a.containerWrapper,children:[Object(en.jsxs)("div",{className:S.a.post,children:[!j&&Object(en.jsx)("div",{className:S.a.dummy}),Object(en.jsx)("img",{alt:"Post",src:null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.display_url,onLoad:function(){return m(!0)},style:j?{}:{display:"none"}}),!j&&Object(en.jsx)("div",{className:S.a.proxyBlock,children:Object(en.jsx)(gn.a,{type:"spinner-default",bgColor:"#FFFFFF",color:"#FFFFFF",size:50})})]}),Object(en.jsx)("div",{className:S.a.post_footer,children:Object(en.jsxs)("div",{className:S.a.footerWrapper,children:[Object(en.jsxs)("div",{className:S.a.footer,children:[Object(en.jsx)("div",{"data-btn":!0,onClick:w,className:S.a.like,children:v?Object(en.jsx)(ce.FaHeart,{style:{color:"red"},size:25}):Object(en.jsx)(ce.FaRegHeart,{size:25})}),Object(en.jsx)("div",{"data-btn":!0,onClick:_,className:S.a.comment,children:Object(en.jsx)(ce.FaRegComment,{size:25})}),Object(en.jsx)("div",{"data-btn":!0,className:S.a.share,onClick:function(){an(Object(en.jsx)(wn,{options:{url:"".concat("https://kikitalk.herokuapp.com","/followers"),history:i,params:{userId:f.id,isForSend:!0},heading:"Send To",emptyMessage:"No Followers",button:{onClick:function(e){var t=e.userId,n=e.index;I.emit("Send Message",{recieverId:t,message:"postId-".concat(o._id)}),O(Ie({index:n,text:"Sent"}))}}}}))},children:Object(en.jsx)(ce.FaRegPaperPlane,{size:25})})]}),Object(en.jsx)("div",{"data-btn":!0,onClick:function(){an(Object(en.jsx)(wn,{options:{url:"".concat("https://kikitalk.herokuapp.com","/likedBy"),history:i,params:{postId:o._id},heading:"Likes",emptyMessage:"No Likes",button:{onClick:function(e){e.userId;var t=e.index;O(Ce({index:t}))}}}}))},children:Object(en.jsxs)("span",{children:[x," likes"]})}),Object(en.jsxs)("div",{className:S.a.caption,children:[Object(en.jsxs)("span",{"data-btn":!0,onClick:function(){tn(),O(dt()),O(Q({id:o.userId})),O(oe({index:1})),i.push("profile")},className:S.a.name,children:[" ",null!==(n=o.profileName)&&void 0!==n?n:"No Name"]})," ",(null===o||void 0===o?void 0:o.description)&&""!==(null===o||void 0===o?void 0:o.description)?null===o||void 0===o?void 0:o.description:"No Description"]}),l&&Object(en.jsx)("div",{children:Object(en.jsx)("span",{onClick:_,style:{cursor:"pointer"},children:"View comments"})}),Object(en.jsx)("div",{className:S.a.post_time,children:Object(en.jsx)(le.a,{datetime:o.createdAt})})]})})]})}var yn=function(e){var t,n,a=e.postData,r=e.index,o=Object(g.b)(),i=Object(A.g)(),s=null!==(t=a.profileImage)&&void 0!==t?t:L,c=function(){o(dt()),o(Q({id:a.userId})),o(oe({index:1})),i.push("profile")};return Object(en.jsxs)("div",{className:S.a.container,children:[Object(en.jsxs)("div",{className:S.a.head,children:[Object(en.jsx)("div",{"data-btn":!0,onClick:c,className:S.a.profile,children:Object(en.jsx)("img",{alt:"Profile img",src:s})}),Object(en.jsx)("span",{"data-btn":!0,onClick:c,className:S.a.profile_name,children:null!==(n=a.profileName)&&void 0!==n?n:"No Name"})]}),Object(en.jsx)(kn,{options:{postData:a,history:i,index:r,origin:"normal",openComments:!0,likeStatusSelector:function(e){var t=e.index,n=e.userId;return function(e){return function(e,t,n){return e.postState.posts[t].likedBy.includes(n)}(e,t,n)}},likeCountSelector:function(e){var t=e.index;return function(e){return function(e,t){return e.postState.posts[t].likedBy.length}(e,t)}},dispatchActionForLike:function(e){var t=e.index,n=e.response;return o(U({index:t,postData:n.data}))}}})]})},Pn=(n(104),n(105),n(74)),Nn=n.n(Pn),Fn=function(e,t){return new Promise(function(){var n=Object(d.a)(u.a.mark((function n(a,r){var o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(Gt({homepageLoading:!0})),4,n.next=5,P("".concat("https://kikitalk.herokuapp.com","/latestPost"),{params:{page:e.length/4,size:4}});case 5:200===(o=n.sent).status&&(o.data.posts.length&&t(M({posts:o.data.posts,hasNext:o.data.hasNext})),a()),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),r(!1);case 13:return n.prev=13,t(Gt({homepageLoading:!1})),t(Gt({loading:!1})),n.finish(13);case 17:case"end":return n.stop()}}),n,null,[[0,9,13,17]])})));return function(e,t){return n.apply(this,arguments)}}())},Sn=function(e){var t=Object(g.c)(Wt("homepageLoading")),n=Object(g.b)(),a=Object(g.c)(G);return Object(r.useEffect)((function(){0===a.posts.length&&Fn(a.posts,n)}),[]),Object(en.jsx)("div",{id:"postScrollableDiv",className:Nn.a.wrapper,children:Object(en.jsx)("div",{className:Nn.a.header,children:Object(en.jsx)(dn.a,{dataLength:a.posts.length,next:function(){return Fn(a.posts,n)},hasMore:a.hasNext||t,loader:Object(en.jsx)(gn.a,{type:"spinner-default",bgColor:"#FFFFFF",color:"#FFFFFF",size:50}),scrollableTarget:"postScrollableDiv",endMessage:Object(en.jsx)("h3",{style:{color:"white"},align:"center",children:"No new posts available"}),children:a.posts.map((function(e,t){return Object(en.jsx)(yn,{index:t,postData:e},t)}))})})})},Ln=n(46),Dn=n.n(Ln),Bn=n(10),zn=Bn.FaUser,En=Bn.FaEnvelope,Rn=Bn.FaLock,Mn=[{name:"full_name",placeholder:"Full Name",validation:{required:!0},icon:Object(en.jsx)(zn,{})},{name:"email",type:"email",placeholder:"Email Address",validation:{required:!0,pattern:"/^[^s@]+@[^s@]+.[^s@]+$/"},icon:Object(en.jsx)(En,{})},{name:"password",type:"password",placeholder:"Password",validation:{required:!0,pattern:"/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/"},icon:Object(en.jsx)(Rn,{})}],Un=[{name:"email",type:"email",placeholder:"Email Address",validation:{required:!0,pattern:"/^[^s@]+@[^s@]+.[^s@]+$/"},icon:Object(en.jsx)(En,{})},{name:"password",type:"password",placeholder:"Password",validation:{required:!0,pattern:"/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/"},icon:Object(en.jsx)(Rn,{})}],Tn=n(17),Gn=n(61),Wn=n.n(Gn),Hn=function(e){var t,n,a,r,o,i=e.field,s=e.register,c=void 0===s?function(){}:s;return Object(en.jsxs)("div",{className:Wn.a.inputBox,children:[null!==(t=null===i||void 0===i?void 0:i.icon)&&void 0!==t?t:null,Object(en.jsx)("input",Object(p.a)({type:null!==(n=null===i||void 0===i?void 0:i.type)&&void 0!==n?n:null,className:"".concat(Wn.a.input," ").concat((null===i||void 0===i?void 0:i.icon)?"":Wn.a.fixInputPlaceholder),placeholder:null!==(a=null===i||void 0===i?void 0:i.placeholder)&&void 0!==a?a:null},c(null!==(r=null===i||void 0===i?void 0:i.name)&&void 0!==r?r:null,null!==(o=null===i||void 0===i?void 0:i.validation)&&void 0!==o?o:null)))]})},Vn=function(){var e=Object(ln.a)(),t=e.register,n=e.handleSubmit,a=Object(A.g)(),r=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("".concat("https://kikitalk.herokuapp.com","/auth/login"),t);case 2:200===(n=e.sent).status&&(j("Login Successfully"),x({token:null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.token}),a.push("home"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(en.jsx)("div",{className:Dn.a.container,children:Object(en.jsxs)("form",{className:Dn.a.form,onSubmit:n(r),children:[Object(en.jsx)("h1",{className:Dn.a.heading,children:"Login"}),Un.map((function(e,n){return Object(en.jsx)(Hn,{field:e,register:t},n)})),Object(en.jsx)("button",{className:Dn.a.submitButton,children:"Login"}),Object(en.jsxs)("p",{children:["Not a member ? ",Object(en.jsx)(Tn.b,{to:"/register",children:"Go to Register"})," "]}),Object(en.jsx)("span",{onClick:function(){a.push("forgotPassword")},className:Dn.a.forgot_password,children:"Forgot Password?"})]})})},Yn=n(39),Jn=n.n(Yn),Xn=n(50),Zn=n.n(Xn),qn=n(62),Qn=n.n(qn),Kn=n(63),$n=n.n(Kn),ea=Math.PI/180;function ta(e,t,n){return na.apply(this,arguments)}function na(){return na=Object(d.a)(u.a.mark((function e(t,n,a){var r,o,i,s,c,l,d,A,g,p,C,I=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=I.length>3&&void 0!==I[3]?I[3]:1,o=I.length>4&&void 0!==I[4]?I[4]:0,i=n.getContext("2d")){e.next=5;break}throw new Error("No 2d context");case 5:s=t.naturalWidth/t.width,c=t.naturalHeight/t.height,l=window.devicePixelRatio,n.width=Math.floor(a.width*s*l),n.height=Math.floor(a.height*c*l),i.scale(l,l),i.imageSmoothingQuality="high",d=a.x*s,A=a.y*c,g=o*ea,p=t.naturalWidth/2,C=t.naturalHeight/2,i.save(),i.translate(-d,-A),i.translate(p,C),i.rotate(g),i.scale(r,r),i.translate(-p,-C),i.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,t.naturalWidth,t.naturalHeight),i.restore();case 25:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}n(206);var aa=function(e){var t,n=e.imgSrc,a=e.options;a=null!==(t=a)&&void 0!==t?t:{api:"".concat("https://kikitalk.herokuapp.com","/addContent"),want_caption:!0,aspect:3.5/4.5,dispatchFunc:[function(e){return R({post:e.data})},function(e){return lt({post:e.data})},function(e){return $()}]};var o,i,s,l=Object(r.useState)(),A=Object(c.a)(l,2),p=A[0],C=A[1],I=Object(r.useRef)(null),f=Object(r.useState)(null),b=Object(c.a)(f,2),h=b[0],j=b[1],m=Object(r.useState)(""),x=Object(c.a)(m,2),O=x[0],_=x[1],w=Object(g.b)(),k=Object(r.useRef)(null),P=a.aspect;o=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===h||void 0===h?void 0:h.width)&&(null===h||void 0===h?void 0:h.height)&&k.current&&I.current&&ta(k.current,I.current,h);case 1:case"end":return e.stop()}}),e)}))),i=100,s=[h],Object(r.useEffect)((function(){var e=setTimeout((function(){o.apply(void 0,s)}),i);return function(){clearTimeout(e)}}),s);var N=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={base64:t,description:O},e.next=3,y(a.api,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h||n("No Content"),e.prev=1,r=I.current.toDataURL("image/jpeg").split(";base64,")[1],e.next=5,N(r);case 5:o=e.sent,a.dispatchFunc.forEach((function(e){w(e(o))})),t(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),n();case 14:return e.prev=14,tn(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,v(t,{pending:"Uploading",success:"Post Uploaded Successfully"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(en.jsx)("div",{className:Qn.a.wrapper,children:Object(en.jsxs)("div",{children:[n&&Object(en.jsx)($n.a,{crop:p,onChange:function(e,t){return C(t)},onComplete:function(e){return j(e)},aspect:P,children:Object(en.jsx)("img",{ref:k,alt:"Crop me",src:n,onLoad:function(e){if(P){var t=e.currentTarget,n=t.width,a=t.height;C(function(e,t,n){return Object(Kn.centerCrop)(Object(Kn.makeAspectCrop)({unit:"%",width:30},n,e,t),e,t)}(n,a,P))}}})}),Object(en.jsx)("div",{className:Qn.a.footer,children:h&&Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)("p",{children:"Preview"}),Object(en.jsx)("canvas",{id:"croppedImage",ref:I,style:{border:"1px solid black",objectFit:"contain",width:h.width,height:h.height}}),Object(en.jsxs)("div",{className:Qn.a.addPost,children:[a.want_caption&&Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)("p",{children:"Add Caption"}),Object(en.jsx)("textarea",{onChange:function(e){return _(e.target.value)},id:"w3review",name:"w3review",rows:"4",cols:"50"})," "]}),Object(en.jsx)("button",{"data-btn":!0,onClick:F,children:"Post"})]})]})})]})})},ra=function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files&&t.target.files.length>0&&((n=new FileReader).addEventListener("load",(function(){return an(Object(en.jsx)(aa,{imgSrc:n.result.toString()||""}))})),t.target.files[0]&&n.readAsDataURL(t.target.files[0]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(en.jsxs)("div",{className:Zn.a.wrapper,children:[Object(en.jsx)("div",{className:Zn.a.heading,children:Object(en.jsx)("span",{children:"Create New Post"})}),Object(en.jsxs)("form",{onClick:function(){document.querySelector("#postInput").click()},className:Zn.a.container,children:[Object(en.jsx)("input",{id:"postInput",hidden:!0,type:"file",onChange:e}),Object(en.jsx)(ce.FaImage,{size:70}),Object(en.jsx)("span",{className:Zn.a.instruction,align:"center",children:"Click above to browse images"})]})]})},oa=n(64),ia=n.n(oa),sa=function(e){var t,n=e.userData,a=e.history,r=Object(g.b)();return Object(en.jsxs)("div",{"data-btn":!0,className:ia.a.profileContainer,onClick:function(){r(dt()),r(Q({id:n._id})),tn(),a.push("profile")},children:[Object(en.jsx)("div",{className:ia.a.profileImage,children:Object(en.jsx)("img",{alt:"profile",src:null!==(t=n.profileImageUrl)&&void 0!==t?t:L})}),Object(en.jsx)("div",{className:ia.a.profileInfo,children:Object(en.jsx)("span",{children:n.full_name})})]})},ca=n(75),la=n.n(ca),ua=function(e,t,n){return new Promise(function(){var a=Object(d.a)(u.a.mark((function a(r,o){var i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Gt({searchUserLoading:!0})),15,a.next=5,P("".concat("https://kikitalk.herokuapp.com","/searchUser"),{params:{searchText:e,page:t.length/15,size:15}});case 5:200===(i=a.sent).status&&i.data.searchResult.length&&(n(tt({searchText:e,searchResult:i.data.searchResult,hasNext:i.data.hasNext})),r()),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0),o(!1);case 13:return a.prev=13,n(Gt({searchUserLoading:!1})),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,9,13,16]])})));return function(e,t){return a.apply(this,arguments)}}())},da=function(e){var t,n=e.history,a=Object(g.b)(),o=Object(r.useState)(""),i=Object(c.a)(o,2),s=i[0],l=i[1],u=Object(g.c)(at),d=Object(g.c)(Wt("searchUserLoading"));return Object(en.jsxs)("div",{align:"center",className:la.a.searchContainer,children:[Object(en.jsx)("h2",{children:"Search Your Friends"}),Object(en.jsx)("input",{autoFocus:!0,onChange:function(e){t&&clearTimeout(t),t=setTimeout((function(){var t=e.target.value;a(nt()),l(t),t&&ua(t,[],a)}),1e3)},value:u.searchText,placeholder:"Search"}),Object(en.jsx)("div",{id:"searchResultScrollableDiv",className:la.a.searchResultContainer,children:Object(en.jsx)(dn.a,{dataLength:u.searchResult.length,next:function(){return ua(s,u.searchResult,a)},hasMore:u.hasNext||d,loader:Object(en.jsx)(gn.a,{type:"spinner-default",bgColor:"#FFFFFF",color:"#FFFFFF",size:50}),endMessage:0===u.searchResult.length?Object(en.jsx)("p",{align:"center",children:""===s?"Search Your Friend Here":"Couldn't found anything"}):Object(en.jsx)(en.Fragment,{}),scrollableTarget:"searchResultScrollableDiv",children:u.searchResult.map((function(e,t){return Object(en.jsx)(sa,{history:n,userData:e},t)}))})})]})},Aa=[{name:"Home",path:"/home",icon:Object(en.jsx)(ce.FaHome,{size:25}),onClick:function(e){var t=e.history,n=e.index;(0,e.dispatch)(oe({index:n})),t.push("/home")}},{name:"Profile",path:"/profile",icon:Object(en.jsx)(ce.FaUser,{size:25}),onClick:function(e){var t=e.history,n=e.active,a=e.activeProfileId,r=e.index,o=e.dispatch,i=e.userData;r===n&&a===i.id||(o(Gt()),o(dt()),o(Q({id:i.id})),o(oe({index:r})),t.push("profile"))}},{name:"Search Friends",icon:Object(en.jsx)(ce.FaSearch,{size:25}),onClick:function(e){var t=e.history,n=e.index,a=e.dispatch,r=e.active;a(oe({index:n})),an(Object(en.jsx)(da,{history:t}),(function(){a(oe({index:r}))}))}},{name:"Add Post",icon:Object(en.jsx)(ce.FaPlusSquare,{size:25}),onClick:function(e){var t=e.index,n=e.dispatch,a=e.active;n(oe({index:t})),an(Object(en.jsx)(ra,{}),(function(){n(oe({index:a}))}))}},{name:"Message",path:"/message",icon:Object(en.jsx)(ce.FaEnvelope,{size:25}),onClick:function(e){var t=e.history,n=e.active,a=e.index,r=e.dispatch;a!==n&&(r(Gt()),r(oe({index:a})),t.push("/message"))}},{name:"Logout",icon:Object(en.jsx)(ce.FaSignOutAlt,{size:25}),onClick:function(e){var t=e.dispatch;O(["token"]),t(Fe()),j("Successfully logged out")}}],ga=n.p+"static/media/logo.1bd23d24.png",pa=void 0,Ca=function(){var e=Object(A.g)(),t=Object(g.c)(ie),n=Object(g.b)(),a=Object(g.c)((function(e){return e.profileState.id})),o=Object(g.c)(Se);return Object(r.useEffect)((function(){n(oe({index:0}))}),[]),Object(en.jsxs)("div",{className:Jn.a.bar,children:[Object(en.jsxs)("div",{"data-btn":!0,onClick:Aa[0].onClick.bind(pa,{history:e,dispatch:n,index:0,active:t,userData:o,activeProfileId:a}),className:Jn.a.logo,children:[Object(en.jsx)("img",{style:{width:"50px"},src:ga,alt:"logo"}),Object(en.jsx)("span",{"data-btn":!0,children:"KikiTalk"})]}),Object(en.jsx)("div",{className:Jn.a.navigationIcons,children:Aa.map((function(r,i){return Object(en.jsx)("a",{"data-btn":!0,onClick:r.onClick?r.onClick.bind(pa,{history:e,dispatch:n,index:i,active:t,userData:o,activeProfileId:a}):null,className:"".concat(Jn.a.links," ").concat(i===Aa.length-1?Jn.a.last_link:""," ").concat(i===t?Jn.a.active:""),children:Object(en.jsx)("span",{className:"".concat(i===t?Jn.a.active:""),children:r.icon})},i)}))})]})},Ia=n(51),fa=n.n(Ia),ba=function(){var e=Object(ln.a)(),t=e.register,n=e.handleSubmit,a=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("".concat("https://kikitalk.herokuapp.com","/auth/register"),t);case 2:200===(n=e.sent).status&&(j("Registered Successfully"),x({token:null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.token}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(en.jsx)("div",{className:fa.a.container,children:Object(en.jsxs)("form",{className:fa.a.form,onSubmit:n(a),children:[Object(en.jsx)("h1",{className:fa.a.heading,children:"Register"}),Mn.map((function(e,n){return Object(en.jsx)(Hn,{field:e,register:t},n)})),Object(en.jsx)("button",{className:fa.a.submitButton,children:"Register"}),Object(en.jsxs)("p",{children:["Already a member ? ",Object(en.jsx)(Tn.b,{to:"/login",children:"Go to Login"})," "]})]})})},ha=n(76),ja=n.n(ha),ma=n(77),va=n.n(ma),xa=function(e){var t=e.email,n=e.isVerifiedSetter,a=e.openOtpComponentSetter,r=e.tokenSetter,o=Object(ln.a)(),i=o.register,s=o.handleSubmit;return Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)("h2",{style:{textAlign:"center"},children:"Enter Verification Code"}),Object(en.jsxs)("form",{onSubmit:s((function(e){var a=e.otp,o=new Promise(function(){var e=Object(d.a)(u.a.mark((function e(o,i){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat("https://kikitalk.herokuapp.com","/verifyOtp"),{email:t,otp:a});case 3:200===(s=e.sent).status&&(n(!0),r(s.data.token),o()),i(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}());v(o,{pending:"Verifying OTP",success:"OTP Verified Successfully"})})),children:[Object(en.jsx)(Hn,{field:{name:"otp",placeholder:"OTP",validation:{required:!0}},register:i}),Object(en.jsx)("button",{className:va.a.submitButton,children:"Verify"}),Object(en.jsx)("button",{onClick:function(){a(!1)},className:va.a.backButton,children:"Back"})]})]})},Oa=n(106),_a=n.n(Oa),wa=function(e){var t=e.token,n=e.email,a=Object(ln.a)(),r=a.register,o=a.handleSubmit,i=Object(A.g)();return Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)("h2",{style:{textAlign:"center"},children:"Create New Password"}),Object(en.jsxs)("form",{onSubmit:o((function(e){var a=e.password,r=new Promise(function(){var e=Object(d.a)(u.a.mark((function e(r,o){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat("https://kikitalk.herokuapp.com","/saveNewPassword"),{token:t,password:a,email:n});case 3:i.push("/login"),r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}());v(r,{pending:"Saving New Password",success:"Password Saved Successfully"})})),children:[Object(en.jsx)(Hn,{field:{name:"password",placeholder:"New Password",type:"password",validation:{required:!0,pattern:"/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/"}},register:r}),Object(en.jsx)("button",{className:_a.a.submitButton,children:"Submit"})]})]})},ka=n(78),ya=n.n(ka),Pa=function(e){var t=e.openOtpComponentSetter,n=e.emailSetter,a=Object(ln.a)(),r=a.register,o=a.handleSubmit,i=Object(A.g)(),s=function(){var e=Object(d.a)(u.a.mark((function e(a){var r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.email,n(r),o=new Promise(function(){var e=Object(d.a)(u.a.mark((function e(n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat("https://kikitalk.herokuapp.com","/forgotPassword"),{email:r});case 3:t(!0),n(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t(!1),a(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),v(o,{pending:"Sending Email",success:"Email Sent Successfully"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)("h2",{style:{textAlign:"center"},children:"Forgot Password?"}),Object(en.jsxs)("form",{onSubmit:o(s),children:[Object(en.jsx)(Hn,{field:{name:"email",placeholder:"Enter Email",type:"email",validation:{required:!0,pattern:"/^[^s@]+@[^s@]+.[^s@]+$/"}},register:r}),Object(en.jsx)("button",{className:ya.a.submitButton,children:"Reset Password"}),Object(en.jsx)("button",{onClick:function(){i.push("login")},className:ya.a.backButton,children:"Back"})]})]})},Na=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(""),i=Object(c.a)(o,2),s=i[0],l=i[1],u=Object(r.useState)(),d=Object(c.a)(u,2),A=d[0],g=d[1],p=Object(r.useState)(!1),C=Object(c.a)(p,2),I=C[0],f=C[1];return Object(en.jsx)("div",{className:ja.a.wrapper,children:Object(en.jsx)("div",{className:ja.a.container,children:I?Object(en.jsx)(wa,{email:s,token:A}):n?Object(en.jsx)(xa,{email:s,isVerifiedSetter:f,openOtpComponentSetter:a,tokenSetter:g}):Object(en.jsx)(Pa,{emailSetter:l,openOtpComponentSetter:a})})})},Fa=n(25),Sa=n.n(Fa),La=n(65),Da=n.n(La),Ba=n(52),za=n.n(Ba),Ea=function(e){var t=e.postId,n=Object(g.b)(),a=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise(function(){var e=Object(d.a)(u.a.mark((function e(a,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N("".concat("https://kikitalk.herokuapp.com","/post"),{postId:t});case 3:n(T({postId:t})),n(At({postId:t})),n(te()),a(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),r();case 13:return e.prev=13,tn(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,v(a,{pending:"Deleting",success:"Post Deleted Successfully"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(en.jsxs)("div",{className:za.a.wrapper,children:[Object(en.jsx)("span",{align:"center",className:za.a.heading,children:"Delete Post"}),Object(en.jsx)("p",{children:"Are you sure you want to delete post?"}),Object(en.jsxs)("div",{className:za.a.buttonGroup,children:[Object(en.jsx)("button",{onClick:a,"data-btn":!0,className:za.a.delete,children:"Delete"}),Object(en.jsx)("button",{onClick:function(){tn()},"data-btn":!0,children:"Cancel"})]})]})},Ra=function(e){var t,n,a=e.postData,o=e.index,i=Object(r.useState)(!1),s=Object(c.a)(i,2),l=s[0],u=s[1],d=Object(g.b)(),p=Object(g.c)(Le),C=Object(A.g)();return Object(en.jsxs)("div",{className:Da.a.wrapper,children:[a.userId===p&&Object(en.jsx)("span",{className:Da.a.deleteIcon,children:Object(en.jsx)(ce.FaTrash,{onClick:function(){an(Object(en.jsx)(Ea,{postId:null===a||void 0===a?void 0:a._id}))}})}),Object(en.jsx)("img",{onClick:function(){an(Object(en.jsx)(hn,{options:{postData:a,index:o,history:C,openComments:!1,likeStatusSelector:function(e){var t=e.index,n=e.userId;return function(e){return function(e,t,n){return e.allPostsState.posts[t].likedBy.includes(n)}(e,t,n)}},likeCountSelector:function(e){var t=e.index;return function(e){return function(e,t){return e.allPostsState.posts[t].likedBy.length}(e,t)}},dispatchActionForLike:function(e){var t=e.index,n=e.response;return d(ut({index:t,postData:n.data}))}}}))},alt:"card",src:null!==(t=null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.url)&&void 0!==t?t:L,onLoad:function(){return u(!0)},style:l?{}:{display:"none"}}),!l&&Object(en.jsx)("div",{className:Da.a.proxyBlock,children:Object(en.jsx)(gn.a,{type:"spinner-default",bgColor:"#FFFFFF",color:"#FFFFFF",size:50})})]})},Ma=n(107),Ua=n.n(Ma),Ta=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(d.a)(u.a.mark((function e(r,o){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Gt({allPostLoading:!0})),15,e.next=5,P("".concat("https://kikitalk.herokuapp.com","/allPostsWithId"),{params:{page:t.length/15,size:15,id:a}});case 5:200===(i=e.sent).status&&(i.data.posts.length&&n(ct({posts:i.data.posts,hasNext:i.data.hasNext})),r()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),o(!1);case 13:return e.prev=13,n(Gt({allPostLoading:!1})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ga=function(){var e=Object(g.b)(),t=Object(g.c)(gt),n=Object(g.c)(ne),a=Object(g.c)(Wt("allPostLoading"));return Object(r.useEffect)((function(){return 0===t.posts.length&&Ta(t.posts,e,null===n||void 0===n?void 0:n.id),function(){e(dt())}}),[null===n||void 0===n?void 0:n.id]),Object(en.jsx)("div",{id:"allPostScrollableDiv",className:Ua.a.wrapper,children:Object(en.jsx)(dn.a,{dataLength:t.posts.length,next:function(){return Ta(t.posts,e,null===n||void 0===n?void 0:n.id)},hasMore:t.hasNext||a,loader:Object(en.jsx)(gn.a,{type:"bubble-top",bgColor:"#FFFFFF",color:"#FFFFFF",size:30}),scrollableTarget:"allPostScrollableDiv",children:t.posts.map((function(e,t){return Object(en.jsx)(Ra,{index:t,postData:e},t)}))})})},Wa=function(){return window.sessionStorage},Ha=function(e,t){window.sessionStorage.setItem(e,t)},Va=function(e){window.sessionStorage.removeItem(e)},Ya=function(){var e=Object(r.useState)(Wa),t=Object(c.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){var e=function(){a(Wa())};return window.addEventListener("sessionStorage",e),function(){return window.removeEventListener("sessionStorage",e)}}));return{sessionData:n,addData:function(e){Array.isArray(e[0])?e.forEach((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];Ha(n,a)})):Ha(e[0],e[1]),dispatchEvent(new Event("sessionStorage"))},removeData:function(e){Array.isArray(e)?e.forEach((function(e){return Va(e)})):Va(e),dispatchEvent(new Event("sessionStorage"))},getLastUrl:function(){return window.sessionStorage.getItem("LatestWindowUrl")}}},Ja=function(e,t){return new Promise(function(){var n=Object(d.a)(u.a.mark((function n(a,r){var o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(Gt()),n.next=4,P("".concat("https://kikitalk.herokuapp.com","/profileDetail"),{params:{userId:e}});case 4:200===(o=n.sent).status&&(t(J(o.data)),a()),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),r(!1);case 12:return n.prev=12,t(Gt({loading:!1})),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,8,12,15]])})));return function(e,t){return n.apply(this,arguments)}}())},Xa=function(){var e,t=Object(r.useState)(!1),n=Object(c.a)(t,2),a=n[0],o=n[1],i=Object(g.c)(Se),s=Object(g.c)(ne),l=Object(g.b)(),p=Object(A.g)(),C=Object(r.useRef)(null),I=Object(r.useRef)(null),f=Ya(),b=f.addData,h=f.sessionData;Object(r.useEffect)((function(){s.id?(Ja(null===s||void 0===s?void 0:s.id,l),b(["lastProfileId",s.id])):h.getItem("lastProfileId")&&Ja(h.getItem("lastProfileId"),l)}),[l,null===s||void 0===s?void 0:s.id]),Object(r.useEffect)((function(){return function(){l(q())}}),[]);var j,m=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,n=r.length>1&&void 0!==r[1]?r[1]:-1,e.prev=2,e.next=5,y("".concat("https://kikitalk.herokuapp.com","/follower"),{userId:-1!==n?t:s.id,followerId:i.id});case 5:200===(a=e.sent).status&&(-1!==n?(l(Ce({index:n})),l(ee({isFollower:a.data.isFollower}))):l(X({isFollower:a.data.isFollower}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){C.current.innerText=s.name,o(!1)};j=I,Object(r.useEffect)((function(){function e(e){j.current&&!j.current.contains(e.target)&&v()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[j,s]);return Object(en.jsxs)("div",{className:Sa.a.wrapper,children:[Object(en.jsx)("div",{className:Sa.a.header,children:Object(en.jsxs)("div",{className:Sa.a.headerWrapper,children:[Object(en.jsxs)("div",{className:Sa.a.profileImage,onClick:function(){document.querySelector("#profileInput").click()},children:[Object(en.jsx)("img",{alt:"profile",src:null!==(e=null===s||void 0===s?void 0:s.imgUrl)&&void 0!==e?e:L}),Object(en.jsx)("input",{id:"profileInput",hidden:!0,type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader,n={api:"".concat("https://kikitalk.herokuapp.com","/updateProfileImage"),want_caption:!1,aspect:1,dispatchFunc:[function(e){return K(e.data)}]};t.addEventListener("load",(function(){return an(Object(en.jsx)(aa,{imgSrc:t.result.toString()||"",options:n}))})),e.target.files[0]&&t.readAsDataURL(e.target.files[0])}}})]}),Object(en.jsxs)("div",{className:Sa.a.profileDetail,children:[Object(en.jsxs)("div",{className:Sa.a.profileName,ref:I,children:[Object(en.jsx)("span",{ref:C,onInput:function(){o(!0)},onClick:function(){o(!0)},contentEditable:s.id===i.id,suppressContentEditableWarning:!0,children:s.name})," ",a&&s.id===i.id&&Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)(ce.FaCheck,{"data-btn":!0,style:{cursor:"pointer"},size:15,onClick:function(){return new Promise(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==C.current.innerText){e.next=3;break}throw new Error("Invalid Name");case 3:return e.next=5,y("".concat("https://kikitalk.herokuapp.com","/updateProfileName"),{full_name:C.current.innerText});case 5:200===(a=e.sent).status&&(l(Z(a.data)),o(!1),t()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),v(),n(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}())},color:"#34b233"})," ",Object(en.jsx)(ce.FaTimes,{"data-btn":!0,style:{cursor:"pointer"},size:15,onClick:v,color:"#f12525de"})]})]}),Object(en.jsxs)("div",{className:Sa.a.followDetail,children:[Object(en.jsxs)("div",{align:"center",children:[s.postCount," Posts"]}),Object(en.jsxs)("div",{align:"center","data-btn":!0,onClick:function(){an(Object(en.jsx)(wn,{options:{url:"".concat("https://kikitalk.herokuapp.com","/followers"),history:p,params:{userId:s.id},heading:"Followers",emptyMessage:"No Followers",button:{onClick:function(e){var t=e.userId,n=e.index;m(t,n)}}}}))},children:[s.follower," Followers"]}),Object(en.jsxs)("div",{align:"center","data-btn":!0,onClick:function(){an(Object(en.jsx)(wn,{options:{url:"".concat("https://kikitalk.herokuapp.com","/followings"),history:p,heading:"Followings",emptyMessage:"No Followings",params:{userId:s.id},button:{onClick:function(e){var t=e.userId,n=e.index;m(t,n)}}}}))},children:[s.following," Following"]})]}),!(null===s||void 0===s?void 0:s.isMyProfile)&&Object(en.jsxs)("div",{className:Sa.a.buttonGroup,children:[Object(en.jsx)("button",{className:Sa.a.follow_btn,onClick:m,"data-btn":!0,children:s.isFollowed?"Unfollow":"Follow"}),s.isFollowed&&Object(en.jsx)("button",{"data-btn":!0,className:Sa.a.message_btn,onClick:function(){l(_t({channel:{_id:s.id,full_name:s.name,profileImageUrl:s.imgUrl}})),p.push("message")},children:"Message"})]})]})]})}),Object(en.jsxs)("div",{className:Sa.a.footer,children:[Object(en.jsx)("div",{className:Sa.a.footer_heading,children:"Posts"}),Object(en.jsx)(Ga,{})]})]})},Za=n(79),qa=n.n(Za),Qa=function(e,t,n){return new Promise(function(){var a=Object(d.a)(u.a.mark((function a(r,o){var i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,20,a.next=4,P("".concat("https://kikitalk.herokuapp.com","/latestNotifications"),{params:{page:e.length/20,size:20,id:n}});case 4:200===(i=a.sent).status&&(i.data.notifications.length&&t(bt({notifications:i.data.notifications,hasNext:i.data.hasNext})),r()),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),o(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}())},Ka=function(){var e=Object(g.b)(),t=Object(g.c)(ht),n=Object(g.c)(Se);return Object(r.useEffect)((function(){0===t.notifications.length&&Qa(t.notifications,e,n.id)})),Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)("div",{className:qa.a.heading,children:"Notifications"}),Object(en.jsx)("div",{id:"notificationsScrollableDiv",className:qa.a.wrapper,children:Object(en.jsx)(dn.a,{dataLength:t.notifications.length,next:function(){return Qa(t.notifications,e,n.id)},hasMore:t.hasNext,loader:Object(en.jsx)("h4",{children:"Loading..."}),scrollableTarget:"notificationsScrollableDiv",children:t.notifications.map((function(e,t){return Object(en.jsx)("div",{index:t,children:e.notificationText},t)}))})})]})},$a=(n(111),n(108)),er=n.n($a),tr=n(80),nr=n.n(tr),ar=n(53),rr=n.n(ar),or=function(e){var t,n,a=e.channelData,r=e.index,o=e.active,i=e.setShowState,s=e.showState,c=Object(g.b)();return Object(en.jsxs)("div",{onClick:function(){!0===s.leftPanel&&!1===s.rightPanel&&i({leftPanel:!1,rightPanel:!0}),c(Bt()),c(qt()),c(Ot({selected:r}))},className:"".concat(rr.a.wrapper," ").concat(o?rr.a.selectedChannel:""),children:[Object(en.jsx)("div",{className:rr.a.profileImg,children:Object(en.jsx)("img",{src:null!==(t=a.profileImageUrl)&&void 0!==t?t:L,alt:"follower"})}),Object(en.jsx)("div",{className:rr.a.rightSection,children:Object(en.jsx)("span",{children:null!==(n=null===a||void 0===a?void 0:a.full_name)&&void 0!==n?n:"Name"})})]})},ir=function(e,t){return new Promise(function(){var n=Object(d.a)(u.a.mark((function n(a,r){var o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(Gt({channelLoading:!0})),10,n.next=5,P("".concat("https://kikitalk.herokuapp.com","/channelIds"),{params:{page:e.length/10,size:10}});case 5:200===(o=n.sent).status&&(o.data.channelIdList.length&&t(xt({channelIdList:o.data.channelIdList,hasNext:o.data.hasNext})),a()),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),r(!1);case 13:return n.prev=13,t(Gt({channelLoading:!1})),t(Gt({loading:!1})),n.finish(13);case 17:case"end":return n.stop()}}),n,null,[[0,9,13,17]])})));return function(e,t){return n.apply(this,arguments)}}())},sr=function(e){var t,n,a=e.showState,o=e.setShowState,i=Object(g.b)(),s=Object(g.c)(kt),c=Object(g.c)(Pt),l=Object(g.c)(Wt("channelLoading"));return Object(r.useEffect)((function(){0===s.channelIdList.length?ir(s.channelIdList,i):i(Gt({loading:!1}))}),[]),Object(en.jsxs)("div",{className:nr.a.wrapper,children:[Object(en.jsx)("div",{id:"channelScrollableDiv",className:nr.a.heading,children:"Messages"}),Object(en.jsx)(dn.a,{dataLength:null===s||void 0===s||null===(t=s.channelIdList)||void 0===t?void 0:t.length,next:function(){return ir(null===s||void 0===s?void 0:s.channelIdList,i)},hasMore:(null===s||void 0===s?void 0:s.hasNext)||l,loader:Object(en.jsx)(gn.a,{type:"bubble-top",bgColor:"#FFFFFF",color:"#FFFFFF",size:30}),endMessage:0===(null===s||void 0===s||null===(n=s.channelIdList)||void 0===n?void 0:n.length)?Object(en.jsx)("p",{align:"center",children:"You have no friends currently"}):Object(en.jsx)(en.Fragment,{}),scrollableTarget:"channelScrollableDiv",children:s.channelIdList.map((function(e,t){return Object(en.jsx)(or,{showState:a,setShowState:o,index:t,channelData:e,active:c===t},t)}))})]})},cr=n(37),lr=n.n(cr),ur=n(35),dr=n.n(ur),Ar=function(e){var t,n=e.messageData,a=(e.index,Object(r.useState)(!1)),o=Object(c.a)(a,2),i=o[0],s=o[1],l=Object(g.c)((function(e){return function(e,t){return e.messagePostState.posts[t]}(e,n.message.split("postId-")[1])})),p=Object(g.b)(),C=Object(A.g)();Object(r.useEffect)((function(){n.message.startsWith("postId-")&&!n.deleted&&function(e,t){new Promise(function(){var n=Object(d.a)(u.a.mark((function n(a,r){var o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P("".concat("https://kikitalk.herokuapp.com","/postWithPostId"),{params:{postId:e}});case 3:200===(o=n.sent).status&&(t(Xt({index:e,post:o.data})),a()),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),r(!1);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}())}(n.message.split("postId-")[1],p)}),[]);return n.message.startsWith("postId-")?Object(en.jsx)(en.Fragment,{children:n.deleted?Object(en.jsx)("div",{className:"".concat(dr.a.deletePost," ").concat(1===n.id?dr.a.myBubble:""),children:Object(en.jsx)("span",{children:" Post got deleted"})}):Object(en.jsx)(en.Fragment,{children:Object(en.jsxs)("div",{onClick:function(){an(Object(en.jsx)(hn,{options:{postData:l,index:n.message.split("postId-")[1],history:C,openComments:!1,likeStatusSelector:function(e){var t=e.index,n=e.userId;return function(e){return function(e,t,n){return e.messagePostState.posts[t].likedBy.includes(n)}(e,t,n)}},likeCountSelector:function(e){var t=e.index;return function(e){return function(e,t){return e.messagePostState.posts[t].likedBy.length}(e,t)}},dispatchActionForLike:function(e){var t=e.index,n=e.response;return p(Zt({index:t,postData:n.data}))}}}))},"data-btn":!0,className:"".concat(dr.a.post," ").concat(1===n.id?dr.a.myBubble:""),children:[Object(en.jsx)("img",{src:null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.url,alt:"messagePost",onLoad:function(){return s(!0)},style:i?{}:{display:"none"}}),!i&&Object(en.jsx)("div",{className:dr.a.proxyBlock,children:Object(en.jsx)(gn.a,{type:"spinner-default",bgColor:"#FFFFFF",color:"#FFFFFF",size:50})})]})})}):Object(en.jsxs)("div",{className:"".concat(dr.a.wrapper," ").concat(1===n.id?dr.a.myBubble:""),children:[Object(en.jsx)("span",{className:dr.a.message,children:n.message}),Object(en.jsx)(le.a,{className:dr.a.time,datetime:n.createdAt})]})},gr=function(e,t,n){return new Promise(function(){var a=Object(d.a)(u.a.mark((function a(r,o){var i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t){a.next=3;break}return a.abrupt("return");case 3:return n(Gt({messageLoading:!0})),30,a.next=7,P("".concat("https://kikitalk.herokuapp.com","/latestMessages"),{params:{page:e.length/30,size:30,senderId:t}});case 7:200===(i=a.sent).status&&(i.data.messages.length&&n(Dt({messages:i.data.messages,channelId:t,hasNext:i.data.hasNext})),r()),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0),o(!1);case 15:return a.prev=15,n(Gt({messageLoading:!1})),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[0,11,15,18]])})));return function(e,t){return a.apply(this,arguments)}}())},pr=function(e){var t,n,a,o=e.showState,i=e.setShowState,s=Object(g.b)(),c=Object(g.c)(Et),l=Object(g.c)(yt),u=Object(g.c)(_e),d=Object(g.c)(Se),C=Object(g.c)(Wt("messageLoading")),I=Object(A.g)();Object(r.useEffect)((function(){0===c.messages.length&&null!==(null===l||void 0===l?void 0:l._id)&&gr(c.messages,null===l||void 0===l?void 0:l._id,s)}),[c.messages,s,null===l||void 0===l?void 0:l._id]),Object(r.useEffect)((function(){s(Bt())}),[null===l||void 0===l?void 0:l._id,s]),Object(r.useEffect)((function(){return u&&(null===d||void 0===d?void 0:d.id)&&(null===l||void 0===l?void 0:l._id)&&u.on("".concat(d.id),(function(e){((null===d||void 0===d?void 0:d.id)===e.senderId&&(null===l||void 0===l?void 0:l._id)===e.recieverId||(null===d||void 0===d?void 0:d.id)===e.recieverId&&(null===l||void 0===l?void 0:l._id)===e.senderId)&&s(zt({messages:[Object(p.a)(Object(p.a)({},e),{},{id:+((null===d||void 0===d?void 0:d.id)===e.senderId)})]}))})),function(){u&&u.off("".concat(d.id))}}),[s,null===l||void 0===l?void 0:l._id,u,null===d||void 0===d?void 0:d.id]);var f=function(e,t){e&&0!==(null===e||void 0===e?void 0:e.length)&&(u.emit("Send Message",{recieverId:t,message:e}),s(wt({message:""})))},b=function(){s(dt()),s(Q({id:l._id})),s(oe({index:1})),I.push("profile")};return Object(en.jsxs)("div",{className:lr.a.wrapper,children:[Object(en.jsx)("span",{onClick:function(){!1===o.leftPanel&&!0===o.rightPanel&&i({leftPanel:!0,rightPanel:!1})},className:lr.a.pullMe,children:Object(en.jsx)(ce.FaArrowLeft,{})}),Object(en.jsxs)("div",{className:lr.a.heading,children:[Object(en.jsx)("div",{"data-btn":!0,onClick:b,className:lr.a.profileImg,children:Object(en.jsx)("img",{src:null!==(t=null===l||void 0===l?void 0:l.profileImageUrl)&&void 0!==t?t:L,alt:"follower"})}),Object(en.jsx)("span",{"data-btn":!0,onClick:b,children:null!==(n=null===l||void 0===l?void 0:l.full_name)&&void 0!==n?n:"No Friend Selected"})]}),Object(en.jsx)("div",{id:"messageScrollableDiv",className:lr.a.chatSection,children:Object(en.jsx)(dn.a,{dataLength:null===c||void 0===c||null===(a=c.messages)||void 0===a?void 0:a.length,next:function(){return gr(null===c||void 0===c?void 0:c.messages,null===l||void 0===l?void 0:l._id,s)},style:{display:"flex",flexDirection:"column-reverse"},inverse:!0,hasMore:(null===c||void 0===c?void 0:c.hasNext)||C,loader:Object(en.jsx)(gn.a,{type:"bubble-top",bgColor:"#FFFFFF",color:"#FFFFFF",size:30}),scrollableTarget:"messageScrollableDiv",children:c.messages.map((function(e,t){return Object(en.jsx)(Ar,{index:t,messageData:e},t)}))})}),l&&function(){var e;return Object(en.jsxs)("div",{className:lr.a.footer,children:[Object(en.jsx)("input",{autoFocus:!0,placeholder:"Enter your Message",className:lr.a.input,type:"text",value:null!==(e=null===l||void 0===l?void 0:l.message)&&void 0!==e?e:"",onChange:function(e){s(wt({message:e.target.value}))},onKeyDown:function(e){"Enter"===e.key&&f(null===l||void 0===l?void 0:l.message,null===l||void 0===l?void 0:l._id)}}),Object(en.jsx)("div",{"data-btn":!0,onClick:function(){return f(null===l||void 0===l?void 0:l.message,null===l||void 0===l?void 0:l._id)},className:lr.a.send,children:"Send"})]})}()]})};function Cr(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Ir=function(){var e=Object(r.useState)({leftPanel:!0,rightPanel:!0}),t=Object(c.a)(e,2),n=t[0],a=t[1],o=function(){var e=Object(r.useState)(Cr()),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(Cr())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),i=o.width;return Object(r.useEffect)((function(){a(i<=700?{leftPanel:!0,rightPanel:!1}:{leftPanel:!0,rightPanel:!0})}),[i]),Object(en.jsxs)("div",{className:er.a.wrapper,children:[n.leftPanel&&Object(en.jsx)(sr,{showState:n,setShowState:a}),n.rightPanel&&Object(en.jsx)(pr,{showState:n,setShowState:a})]})},fr=n(109),br=n.n(fr),hr=function(){return Object(g.c)(Wt())?Object(en.jsx)("div",{className:br.a.wrapper,children:Object(en.jsx)(gn.a,{type:"box-rectangular",bgColor:"#FFFFFF",title:"Loading",color:"#FFFFFF",size:75})}):Object(en.jsx)(en.Fragment,{})},jr=function(){return{windowUrl:window.location.href}};n(207).config();var mr=function(e,t){return new Promise(function(){var e=Object(d.a)(u.a.mark((function e(n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat("https://kikitalk.herokuapp.com","/auth/loginWithToken"));case 3:200===(r=e.sent).status&&(t(ye(null===r||void 0===r?void 0:r.data)),n(!0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())},vr=["login","register","forgotPassword"];var xr=function(){var e=Object(r.useState)(!0),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!0),i=Object(c.a)(o,2),l=i[0],p=i[1],C=Object(g.b)(),I=function(){var e=Object(r.useState)(jr()),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(A.g)();return Object(r.useEffect)((function(){o.listen((function(){a(jr())}))}),[o]),n}(),f=I.windowUrl,b=Ya(),j=b.addData,m=(b.removeData,b.getLastUrl),v=(b.sessionData,Object(A.g)());return Object(g.c)(Se),Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("token"))){e.next=11;break}return C(Gt()),C(xe({token:t})),e.t0=p,e.next=7,mr(0,C);case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 11:p(!1),C(Gt({loading:!1}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("storage",e),window.dispatchEvent(new Event("storage")),function(){window.removeEventListener("storage",e),C(Oe()),C(Gt({loading:!1}))}}),[]),Object(r.useEffect)((function(){if(n&&m()){var e=m();(e=e.substring(e.lastIndexOf("/")+1))&&v.push(e);var t,r=Object(s.a)(Aa.entries());try{for(r.s();!(t=r.n()).done;){var o=Object(c.a)(t.value,2),i=o[0],l=o[1];if(console.log("".concat(null===l||void 0===l?void 0:l.path," matches with ").concat(e)),(null===l||void 0===l?void 0:l.path)&&l.path.includes(e)){console.log("".concat(e," matched")),C(oe({index:i}));break}}}catch(u){r.e(u)}finally{r.f()}}return!n&&f&&j(["LatestWindowUrl",f]),function(){vr.every((function(e){return!String(window.location.href).includes(e)}))&&a(!1)}}),[j,f]),Object(en.jsxs)("div",{className:"App",children:[Object(en.jsx)(hr,{}),Object(en.jsx)(h.a,{}),Object(en.jsx)(A.d,{children:l?Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)(Ca,{}),Object(en.jsx)(A.b,{path:"/home",children:Object(en.jsx)(Sn,{})}),Object(en.jsx)(A.b,{path:"/profile",children:Object(en.jsx)(Xa,{})}),Object(en.jsx)(A.b,{path:"/notifications",children:Object(en.jsx)(Ka,{})}),Object(en.jsx)(A.b,{path:"/message",children:Object(en.jsx)(Ir,{})}),Object(en.jsx)(A.a,{to:"/home"})]}):Object(en.jsxs)(en.Fragment,{children:[Object(en.jsx)(A.b,{path:"/login",children:Object(en.jsx)(Vn,{})}),Object(en.jsx)(A.b,{path:"/register",children:Object(en.jsx)(ba,{})}),Object(en.jsx)(A.b,{path:"/forgotPassword",children:Object(en.jsx)(Na,{})}),Object(en.jsx)(A.a,{to:"/login"})]})})]})},Or=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))};i.a.render(Object(en.jsx)(g.a,{store:$t,children:Object(en.jsxs)(Tn.a,{children:[Object(en.jsx)("div",{id:"modal"}),Object(en.jsx)(xr,{})]})}),document.getElementById("root")),Or()},25:function(e,t,n){e.exports={header:"profile_header__17T_Y",wrapper:"profile_wrapper__1UlB1",profileName:"profile_profileName__IylXr",follow_btn:"profile_follow_btn__3LB5u",message_btn:"profile_message_btn__3rcC_",buttonGroup:"profile_buttonGroup__1u9gr",headerWrapper:"profile_headerWrapper__22uqQ",footer_heading:"profile_footer_heading__1MBak",profileImage:"profile_profileImage__2GhcJ",profileDetail:"profile_profileDetail__1ZcbH",followDetail:"profile_followDetail__1b2GN",footer:"profile_footer__3ecxY"}},35:function(e,t,n){e.exports={post:"bubble_post__1siDC",proxyBlock:"bubble_proxyBlock__1TvUj",wrapper:"bubble_wrapper__36LSj",myBubble:"bubble_myBubble__3oM3M",message:"bubble_message__3EqDx",deletePost:"bubble_deletePost__5bJ0W",time:"bubble_time__1iQuK"}},37:function(e,t,n){e.exports={wrapper:"rightPane_wrapper__3lGVP",heading:"rightPane_heading__zby8x",profileImg:"rightPane_profileImg__3SQj0",chatSection:"rightPane_chatSection__2QHp8",footer:"rightPane_footer__3vyLc",input:"rightPane_input__M1z0x",send:"rightPane_send__3G8vO",pullMe:"rightPane_pullMe__3NlnL"}},39:function(e,t,n){e.exports={bar:"navbar_bar__2_BT4",logo:"navbar_logo__2iJVN",links:"navbar_links__1yYc3",last_link:"navbar_last_link__bINUr",active:"navbar_active__1LL-m",navigationIcons:"navbar_navigationIcons__1mDGq"}},44:function(e,t,n){e.exports={container:"commentContainer_container__3UvzL",commentContainer:"commentContainer_commentContainer__1tHzq",posterName:"commentContainer_posterName__1cC-j",profileImage:"commentContainer_profileImage__2HOJw",scrollableDiv:"commentContainer_scrollableDiv__3v4GS"}},45:function(e,t,n){e.exports={wrapper:"profileModel_wrapper__GqF4B",profileImage:"profileModel_profileImage__oHdZY",profileInfo:"profileModel_profileInfo__23Jk1",btn:"profileModel_btn__3zCLd",disabledBtn:"profileModel_disabledBtn__Fp4Z-"}},46:function(e,t,n){e.exports={container:"login_container__12WLt",form:"login_form__3avXM",heading:"login_heading__1Jyj1",inputBox:"login_inputBox__M8PUY",input:"login_input__1rGja",submitButton:"login_submitButton__1QVqU",forgot_password:"login_forgot_password__3xzn3"}},50:function(e,t,n){e.exports={wrapper:"createPost_wrapper__1otBB",container:"createPost_container__3nzTv",heading:"createPost_heading__1Ss7W",image:"createPost_image__1c0RJ",instruction:"createPost_instruction__3QBDE"}},51:function(e,t,n){e.exports={container:"register_container__bNlKX",form:"register_form__2PGuK",heading:"register_heading__gLuyn",inputBox:"register_inputBox__11zHA",input:"register_input__2tWmD",submitButton:"register_submitButton__3DauQ"}},52:function(e,t,n){e.exports={wrapper:"confirmDelete_wrapper__1xGoo",heading:"confirmDelete_heading__TOaIA",buttonGroup:"confirmDelete_buttonGroup__3kFXS",delete:"confirmDelete_delete__39h7X"}},53:function(e,t,n){e.exports={wrapper:"channel_wrapper__VFKzu",selectedChannel:"channel_selectedChannel__22zsQ",profileImg:"channel_profileImg__2bznJ",rightSection:"channel_rightSection__36Q9n"}},59:function(e,t,n){e.exports={container:"modal_container__3QI5W",modal_container:"modal_modal_container__zHmlp",icon:"modal_icon__3FHVR"}},60:function(e,t,n){e.exports={post_input:"comment_post_input__1Unzf",post_button:"comment_post_button__3LcEP",comment_input_wrapper:"comment_comment_input_wrapper__1jpYz"}},61:function(e,t,n){e.exports={inputBox:"formInput_inputBox__2V5Xz",input:"formInput_input__11ZUp",fixInputPlaceholder:"formInput_fixInputPlaceholder__1iiCJ"}},62:function(e,t,n){e.exports={wrapper:"cropImage_wrapper__V7j3C",round_border:"cropImage_round_border__S1DmV",addPost:"cropImage_addPost__1gf_A",footer:"cropImage_footer__RB8ku"}},64:function(e,t,n){e.exports={profileImage:"profileContainer_profileImage__1r8OU",profileContainer:"profileContainer_profileContainer__uakDm",profileInfo:"profileContainer_profileInfo__3FIAR"}},65:function(e,t,n){e.exports={wrapper:"singlePostCard_wrapper__2DtCv",proxyBlock:"singlePostCard_proxyBlock__2fKmg",deleteIcon:"singlePostCard_deleteIcon__OXjGC"}},71:function(e,t,n){e.exports={wrapper:"profileList_wrapper__3a6L5",heading:"profileList_heading__1S_oV"}},74:function(e,t,n){e.exports={header:"home_header__32OE9",wrapper:"home_wrapper__hdWpl"}},75:function(e,t,n){e.exports={searchContainer:"searchFriends_searchContainer__Pln5K",searchResultContainer:"searchFriends_searchResultContainer__1B2Ol"}},76:function(e,t,n){e.exports={container:"forgotPassword_container__BJ4Mc",wrapper:"forgotPassword_wrapper__2gTgh",submitButton:"forgotPassword_submitButton__2iXv5"}},77:function(e,t,n){e.exports={submitButton:"otpVerification_submitButton__1wBez",backButton:"otpVerification_backButton__3WT4A"}},78:function(e,t,n){e.exports={submitButton:"sendEmail_submitButton__1lRF7",backButton:"sendEmail_backButton__27QJY"}},79:function(e,t,n){e.exports={wrapper:"notifications_wrapper__2CGXa",heading:"notifications_heading__1OJmB"}},80:function(e,t,n){e.exports={wrapper:"leftPane_wrapper__3L2tZ",heading:"leftPane_heading__1M8DE"}}},[[211,1,2]]]);
//# sourceMappingURL=main.57fac3da.chunk.js.map